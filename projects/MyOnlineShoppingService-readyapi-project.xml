<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="0ef11133-db6c-4e68-8fe3-71132239175c" created="3.56.0" activeEnvironment="Default environment" encryptionMode="Not encrypted" name="MyOnlineShoppingService" authProfile="Rol user" projectVersion="" updated="3.56.0 2024-10-23T13:31:25Z" resourceRoot="" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.ProTestRunnerUIAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Settings File Password" value=""/>
  <con:entry key="Report Format(s)" value="XML"/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="Export JUnit Results" value="true"/>
  <con:entry key="Export All" value="true"/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Slack Channel(s)" value=""/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="Endpoint" value=""/>
  <con:entry key="Test Suite Tags" value=""/>
  <con:entry key="Select Report Type" value="JUnit-Style report for automation"/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Test Suite" value="&lt;all>"/>
  <con:entry key="Run in-process" value="false"/>
  <con:entry key="Password" value=""/>
  <con:entry key="Print Report" value="true"/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Test Case Tags" value=""/>
  <con:entry key="Export JUnit Results with test properties" value="false"/>
  <con:entry key="Select test suits containing:" value="At least one tag"/>
  <con:entry key="Global Properties" value=""/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Select test cases containing:" value="At least one tag"/>
  <con:entry key="Test Case" value="&lt;all>"/>
  <con:entry key="Slack Access Token" value=""/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="Username" value=""/>
  <con:entry key="TestRunner Path" value="C:\Program Files\SmartBear\ReadyAPI-3.56.0\bin"/>
  <con:entry key="Environment" value="No Environment"/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Enable UI" value="false"/>
  <con:entry key="Root Folder" value="${WORKSPACE}"/>
  <con:entry key="Ignore Errors" value="false"/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Save Project" value="false"/>
</xml-fragment>]]></con:setting>
    <con:setting id="0ef11133-db6c-4e68-8fe3-71132239175cfileName">ProjectoMSS</con:setting>
  </con:settings>
  <con:requirements>
    <con:requirement>
      <con:id>Login</con:id>
      <con:links/>
      <con:testCases>
        <con:entry>e0fbd290-a739-4562-a8ef-da5b0e2428d8</con:entry>
      </con:testCases>
    </con:requirement>
  </con:requirements>
  <con:properties/>
  <con:wssContainer/>
  <con:databaseConnectionContainer/>
  <con:jmsConnectionContainer/>
  <con:oAuth2ProfileContainer>
    <con:oAuth2Profile>
      <con:name>Rol user</con:name>
      <con:type>OAuth 2.0</con:type>
      <con:accessToken>eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxLHVzZXJAZW1haWwuY29tIiwicm9sZSI6IlVTRVIiLCJpc3MiOiJjb20ubWljcm9jb21wYW55IiwiaWF0IjoxNzMwNzk0MzgzLCJleHAiOjE3MzA4ODA3ODN9.7qoRcSLJl8GI6uj9FWqp_X1mRagrhuWJ4aY-yzIb0HI9LFzkt32wZOGcYXUGPu3OOnJ02RWX5srBUZXKZCN-jA</con:accessToken>
      <con:accessTokenPosition>HEADER</con:accessTokenPosition>
      <con:accessTokenStartingStatus>ENTERED_MANUALLY</con:accessTokenStartingStatus>
      <con:oAuth2Flow>JWT_GRANT</con:oAuth2Flow>
      <con:refreshAccessTokenMethod>AUTOMATIC</con:refreshAccessTokenMethod>
      <con:jwtConfiguration>
        <con:headerProperties/>
        <con:payloadProperties/>
      </con:jwtConfiguration>
      <con:responseType>id_token</con:responseType>
    </con:oAuth2Profile>
    <con:oAuth2Profile>
      <con:name>Rol admin</con:name>
      <con:type>OAuth 2.0</con:type>
      <con:accessToken>eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyLGFkbWluQGVtYWlsLmNvbSIsInJvbGUiOiJBRE1JTiIsImlzcyI6ImNvbS5taWNyb2NvbXBhbnkiLCJpYXQiOjE3MzA3OTQ2MDgsImV4cCI6MTczMDg4MTAwOH0.flUcU1MwfHPJKu5ULfIaVQxHv8YLOEJcEuJxQ7RtSucqODoz1FzMxua_B1icWgEgKBacIG9w_MSsrwThMaExxQ</con:accessToken>
      <con:accessTokenPosition>HEADER</con:accessTokenPosition>
      <con:accessTokenStartingStatus>ENTERED_MANUALLY</con:accessTokenStartingStatus>
      <con:oAuth2Flow>JWT_GRANT</con:oAuth2Flow>
      <con:refreshAccessTokenMethod>AUTOMATIC</con:refreshAccessTokenMethod>
      <con:jwtConfiguration>
        <con:headerProperties/>
        <con:payloadProperties/>
      </con:jwtConfiguration>
      <con:responseType>id_token</con:responseType>
    </con:oAuth2Profile>
  </con:oAuth2ProfileContainer>
  <con:oAuth1ProfileContainer/>
  <con:reporting xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <con:xmlTemplates xsi:nil="true"/>
    <con:parameters/>
  </con:reporting>
  <con:eventHandlers type="RequestFilter.filterRequest" name="RequestFilter.filterRequest">
    <con:script>// Sample event script to add custom HTTP header to all outgoing REST, SOAP and HTTP(S) calls
// This code is often used for adding custom authentication to ReadyAPI functional tests

// If hardcoding the token, uncomment and change line 5
// token = '4567'

// If your token is parameterized in Project level custom property, uncomment line 8
// token = request.parent.testCase.testSuite.project.getProperty('auth_token').getValue()

// To modify all outgoing calls, remove comments from lines 11 to 16
// headers = request.requestHeaders
// if (headers.containsKey('auth_token2') == false) {
//   headers.put('auth_token2', token)
//   request.requestHeaders = headers
// }</con:script>
  </con:eventHandlers>
  <con:eventHandlers type="TestRunListener.afterStep" name="TestRunListener.afterStep">
    <con:script>// Save all test step results into files
// Change the directory path in line 5 to a location where you want to store details
// then uncomment lines 5 to 10

// filePath = 'C:\\tempOutputDirectory\\'
// fos = new java.io.FileOutputStream(filePath + testStepResult.testStep.label + '.txt', true)
// pw = new java.io.PrintWriter(fos)
// testStepResult.writeTo(pw)
// pw.close()
// fos.close()</con:script>
  </con:eventHandlers>
  <con:environment id="43c8271f-2370-4c3e-81ab-c7b872e4c83e" name="dev" index="0">
    <con:service type="REST" name="Products Management API">
      <con:endpoint authProfile="No Authorization" proxyHost="" proxyPort="" proxyUsername="" proxyPassword="" areGlobalProxySettingsIgnored="false">http://localhost:9090</con:endpoint>
    </con:service>
    <con:databaseConnectionContainer/>
    <con:jmsConnectionContainer/>
  </con:environment>
  <con:authRepository>
    <con:oAuth20AuthEntry>
      <con:name>Rol user</con:name>
      <con:type>OAuth 2.0</con:type>
      <con:accessToken>eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxLHVzZXJAZW1haWwuY29tIiwicm9sZSI6IlVTRVIiLCJpc3MiOiJjb20ubWljcm9jb21wYW55IiwiaWF0IjoxNzMwNzk0MzgzLCJleHAiOjE3MzA4ODA3ODN9.7qoRcSLJl8GI6uj9FWqp_X1mRagrhuWJ4aY-yzIb0HI9LFzkt32wZOGcYXUGPu3OOnJ02RWX5srBUZXKZCN-jA</con:accessToken>
      <con:accessTokenPosition>HEADER</con:accessTokenPosition>
      <con:accessTokenStartingStatus>ENTERED_MANUALLY</con:accessTokenStartingStatus>
      <con:oAuth2Flow>JWT_GRANT</con:oAuth2Flow>
      <con:refreshAccessTokenMethod>AUTOMATIC</con:refreshAccessTokenMethod>
      <con:jwtConfiguration>
        <con:headerProperties/>
        <con:payloadProperties/>
      </con:jwtConfiguration>
      <con:responseType>id_token</con:responseType>
    </con:oAuth20AuthEntry>
    <con:oAuth20AuthEntry>
      <con:name>Rol admin</con:name>
      <con:type>OAuth 2.0</con:type>
      <con:accessToken>eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyLGFkbWluQGVtYWlsLmNvbSIsInJvbGUiOiJBRE1JTiIsImlzcyI6ImNvbS5taWNyb2NvbXBhbnkiLCJpYXQiOjE3MzA3OTQ2MDgsImV4cCI6MTczMDg4MTAwOH0.flUcU1MwfHPJKu5ULfIaVQxHv8YLOEJcEuJxQ7RtSucqODoz1FzMxua_B1icWgEgKBacIG9w_MSsrwThMaExxQ</con:accessToken>
      <con:accessTokenPosition>HEADER</con:accessTokenPosition>
      <con:accessTokenStartingStatus>ENTERED_MANUALLY</con:accessTokenStartingStatus>
      <con:oAuth2Flow>JWT_GRANT</con:oAuth2Flow>
      <con:refreshAccessTokenMethod>AUTOMATIC</con:refreshAccessTokenMethod>
      <con:jwtConfiguration>
        <con:headerProperties/>
        <con:payloadProperties/>
      </con:jwtConfiguration>
      <con:responseType>id_token</con:responseType>
    </con:oAuth20AuthEntry>
  </con:authRepository>
  <con:environmentSpec>
    <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
      <con:authProfile>No Authorization</con:authProfile>
    </con:entry>
  </con:environmentSpec>
  <con:tags/>
  <con:interface xsi:type="con:RestService" id="c6308d89-d26a-489b-8911-43282470f9f9" name="Products Management API" type="rest_ex" wadlVersion="https://swagger.io/openapiv3/specification" definitionUrl="http://localhost:9090/v3/api-docs" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <con:description id="7ea199b4-7fbc-449a-a35c-d6bf575c917b">This API exposes endpoints to manage products.</con:description>
    <con:settings id="854b273b-90f3-48eb-8064-f43534fd0cc6">
      <con:setting id="c6308d89-d26a-489b-8911-43282470f9f9fileName">Products-Management-API</con:setting>
    </con:settings>
    <con:definitionCache type="TEXT" rootPart="http://localhost:9090/v3/api-docs">
      <con:part>
        <con:url>http://localhost:9090/v3/api-docs</con:url>
        <con:content>{"openapi":"3.0.1","info":{"title":"Products Management API","description":"This API exposes endpoints to manage products.","termsOfService":"https://www.netmind.es/terms","contact":{"name":"Contact name","url":"https://www.netmind.es","email":"contact@c.com"},"license":{"name":"MIT License","url":"https://choosealicense.com/licenses/mit/"},"version":"1.0"},"servers":[{"url":"http://localhost:9090","description":"Server URL in Development environment"},{"url":"https://localhost:8443","description":"Server URL in Production environment"}],"security":[{"Bearer Authentication":[]}],"tags":[{"name":"Endpoints de productos","description":"Usa estos endpoints para crear y consumir productos"},{"name":"Endpoint de identificación","description":"Usa este endpoint para identificarte con tu email y contraseña"},{"name":"Endpoints de usuarios","description":"Usa estos endpoints para crear y consumir usuarios"}],"paths":{"/users/{uid}":{"get":{"tags":["Endpoints de usuarios"],"operationId":"getOne","parameters":[{"name":"uid","in":"path","required":true,"style":"simple","explode":false,"schema":{"minimum":1,"type":"integer","format":"int32"}}],"responses":{"412":{"description":"Precondition Failed","content":{"*/*":{"schema":{"oneOf":[{"type":"object","additionalProperties":{"type":"string"}},{"$ref":"#/components/schemas/StatusMessage"},{"type":"string"}]}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Usuario"}}}}}},"put":{"tags":["Endpoints de usuarios"],"operationId":"updateUser","parameters":[{"name":"uid","in":"path","required":true,"style":"simple","explode":false,"schema":{"type":"integer","format":"int32"}},{"name":"aUser","in":"query","required":true,"style":"form","explode":true,"schema":{"$ref":"#/components/schemas/Usuario"}}],"responses":{"412":{"description":"Precondition Failed","content":{"*/*":{"schema":{"oneOf":[{"type":"object","additionalProperties":{"type":"string"}},{"$ref":"#/components/schemas/StatusMessage"},{"type":"string"}]}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}},"delete":{"tags":["Endpoints de usuarios"],"operationId":"deleteUser","parameters":[{"name":"uid","in":"path","required":true,"style":"simple","explode":false,"schema":{"type":"integer","format":"int32"}}],"responses":{"412":{"description":"Precondition Failed","content":{"*/*":{"schema":{"oneOf":[{"type":"object","additionalProperties":{"type":"string"}},{"$ref":"#/components/schemas/StatusMessage"},{"type":"string"}]}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/products/{pid}":{"get":{"tags":["Endpoints de productos"],"summary":"Obtener un producto","description":"Endpoint para obtener un producto concreto","operationId":"getOne_1","parameters":[{"name":"pid","in":"path","description":"El identificador del producto","required":true,"style":"simple","explode":false,"schema":{"minimum":1,"type":"integer","format":"int64"},"example":234}],"responses":{"412":{"description":"Precondition Failed","content":{"*/*":{"schema":{"oneOf":[{"type":"object","additionalProperties":{"type":"string"}},{"$ref":"#/components/schemas/StatusMessage"},{"type":"string"}]}}}},"200":{"description":"Todo bien","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Producto"}}}},"404":{"description":"El producto no existe","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Producto"}}}}}},"put":{"tags":["Endpoints de productos"],"operationId":"updateProduct","parameters":[{"name":"pid","in":"path","required":true,"style":"simple","explode":false,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Producto"}}},"required":true},"responses":{"412":{"description":"Precondition Failed","content":{"*/*":{"schema":{"oneOf":[{"type":"object","additionalProperties":{"type":"string"}},{"$ref":"#/components/schemas/StatusMessage"},{"type":"string"}]}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}},"delete":{"tags":["Endpoints de productos"],"operationId":"deleteProduct","parameters":[{"name":"pid","in":"path","required":true,"style":"simple","explode":false,"schema":{"type":"integer","format":"int64"}}],"responses":{"412":{"description":"Precondition Failed","content":{"*/*":{"schema":{"oneOf":[{"type":"object","additionalProperties":{"type":"string"}},{"$ref":"#/components/schemas/StatusMessage"},{"type":"string"}]}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/users":{"get":{"tags":["Endpoints de usuarios"],"operationId":"getAllUsers","responses":{"412":{"description":"Precondition Failed","content":{"*/*":{"schema":{"oneOf":[{"type":"object","additionalProperties":{"type":"string"}},{"$ref":"#/components/schemas/StatusMessage"},{"type":"string"}]}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Usuario"}}}}}}},"post":{"tags":["Endpoints de usuarios"],"operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Usuario"}}},"required":true},"responses":{"412":{"description":"Precondition Failed","content":{"*/*":{"schema":{"oneOf":[{"type":"object","additionalProperties":{"type":"string"}},{"$ref":"#/components/schemas/StatusMessage"},{"type":"string"}]}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/products":{"get":{"tags":["Endpoints de productos"],"operationId":"getAll","parameters":[{"name":"text","in":"query","required":false,"style":"form","explode":true,"schema":{"type":"string"}}],"responses":{"412":{"description":"Precondition Failed","content":{"*/*":{"schema":{"oneOf":[{"type":"object","additionalProperties":{"type":"string"}},{"$ref":"#/components/schemas/StatusMessage"},{"type":"string"}]}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Producto"}}}}}}}},"/auth/login":{"post":{"tags":["Endpoint de identificación"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRequest"}}},"required":true},"responses":{"412":{"description":"Precondition Failed","content":{"*/*":{"schema":{"oneOf":[{"type":"object","additionalProperties":{"type":"string"}},{"$ref":"#/components/schemas/StatusMessage"},{"type":"string"}]}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}}},"components":{"schemas":{"StatusMessage":{"type":"object","properties":{"status_code":{"type":"integer","format":"int32"},"message":{"type":"string"}}},"Usuario":{"type":"object","properties":{"uid":{"type":"integer","format":"int32"},"email":{"type":"string"},"password":{"type":"string"},"role":{"type":"string","enum":["USER","ADMIN","GESTOR","CLIENTE"]}},"description":"Representa un usuario del sistema"},"Producto":{"required":["name","serial"],"type":"object","properties":{"Id":{"type":"integer","description":"El identificador único del producto. Debe ser un número mayor que 0. No es requerido en POST y PUT","format":"int64","example":234},"name":{"maxLength":20,"minLength":3,"type":"string"},"serial":{"type":"string"}},"description":"Representa un producto a intercambiar"},"AuthRequest":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}}},"securitySchemes":{"Bearer_Authentication":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}</con:content>
        <con:type>https://swagger.io/openapiv3/specification</con:type>
      </con:part>
    </con:definitionCache>
    <con:endpoints>
      <con:endpoint>http://localhost:9090</con:endpoint>
      <con:endpoint>https://localhost:8443</con:endpoint>
    </con:endpoints>
    <con:environmentSpec>
      <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
        <con:authProfile>Inherit From Parent</con:authProfile>
      </con:entry>
    </con:environmentSpec>
    <con:resource name="/auth/login" path="/auth/login" id="61928a68-b42c-4b90-a6bd-ca147b962e84">
      <con:settings id="ecf99132-4f67-448c-b4ef-027a1fed7de5">
        <con:setting id="61928a68-b42c-4b90-a6bd-ca147b962e84fileName">%2Fauth%2Flogin</con:setting>
      </con:settings>
      <con:parameters/>
      <con:method name="login" id="7fd28fe0-4202-4ce3-a9a6-3d37187a452e" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>OK</con:description>
        </con:representation>
        <con:representation type="REQUEST">
          <con:mediaType>application/json</con:mediaType>
          <con:params/>
          <con:sampleContent>{
  "email" : "string",
  "password" : "string"
}</con:sampleContent>
        </con:representation>
        <con:request name="Login user" id="f63b9cfe-3d0a-4383-a2b2-4d675f1bd254" mediaType="application/json" postQueryString="false">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request>{\r
  "email" : "user@email.com",\r
  "password" : "upass"\r
}</con:request>
          <con:originalUri>http://localhost/auth/login</con:originalUri>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters/>
          <con:environmentSpec>
            <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
              <con:authProfile>Inherit From Parent</con:authProfile>
            </con:entry>
          </con:environmentSpec>
        </con:request>
        <con:request name="Login admin" id="f63b9cfe-3d0a-4383-a2b2-4d675f1bd254" mediaType="application/json" postQueryString="false">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request>{\r
  "email" : "admin@email.com",\r
  "password" : "apass"\r
}</con:request>
          <con:originalUri>http://localhost/auth/login</con:originalUri>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters/>
          <con:environmentSpec>
            <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
              <con:authProfile>Inherit From Parent</con:authProfile>
            </con:entry>
          </con:environmentSpec>
        </con:request>
        <con:environmentSpec>
          <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:method>
      <con:environmentSpec>
        <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
          <con:authProfile>Inherit From Parent</con:authProfile>
        </con:entry>
      </con:environmentSpec>
    </con:resource>
    <con:resource name="/products/{pid}" path="/products/{pid}" id="8858cec8-d4c4-4a45-9c8e-3489d7d1df9b">
      <con:settings id="c8d721d6-faf0-450e-a15c-b8ed54c3c7bd">
        <con:setting id="8858cec8-d4c4-4a45-9c8e-3489d7d1df9bfileName">%2Fproducts%2F%7Bpid%7D</con:setting>
      </con:settings>
      <con:parameters/>
      <con:method name="getOne_1" id="2c9f52cf-4b71-40a9-848e-979d97629afa" method="GET">
        <con:description>Endpoint para obtener un producto concreto</con:description>
        <con:settings/>
        <con:parameters>
          <con:parameter required="true">
            <con:name>pid</con:name>
            <con:style>TEMPLATE</con:style>
            <con:description>El identificador del producto</con:description>
          </con:parameter>
        </con:parameters>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>Todo bien</con:description>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>404</con:status>
          <con:params/>
          <con:description>El producto no existe</con:description>
        </con:representation>
        <con:request name="Request 1" id="fee68b3a-89ac-4909-82ac-0660df87ff99" mediaType="application/json">
          <con:settings/>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters/>
          <con:environmentSpec>
            <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
              <con:authProfile>Inherit From Parent</con:authProfile>
            </con:entry>
          </con:environmentSpec>
        </con:request>
        <con:environmentSpec>
          <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:method>
      <con:method name="deleteProduct" id="90684152-6767-4a1c-9612-2258055d3400" method="DELETE">
        <con:settings/>
        <con:parameters>
          <con:parameter required="true">
            <con:name>pid</con:name>
            <con:style>TEMPLATE</con:style>
          </con:parameter>
        </con:parameters>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>OK</con:description>
        </con:representation>
        <con:request name="Request 1" id="e38d04ca-8c0b-41d3-be86-caf47dd6bf7f" mediaType="application/json">
          <con:settings/>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters/>
          <con:environmentSpec>
            <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
              <con:authProfile>Inherit From Parent</con:authProfile>
            </con:entry>
          </con:environmentSpec>
        </con:request>
        <con:environmentSpec>
          <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:method>
      <con:method name="updateProduct" id="f4b2d4d1-07d1-4821-a3d5-6946b9b2942e" method="PUT">
        <con:settings/>
        <con:parameters>
          <con:parameter required="true">
            <con:name>pid</con:name>
            <con:style>TEMPLATE</con:style>
          </con:parameter>
        </con:parameters>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>OK</con:description>
        </con:representation>
        <con:representation type="REQUEST">
          <con:mediaType>application/json</con:mediaType>
          <con:params/>
          <con:sampleContent>{
  "Id" : 234,
  "name" : "string",
  "serial" : "string"
}</con:sampleContent>
        </con:representation>
        <con:request name="Request 1" id="4046e70a-6e7e-4e88-b448-1485f3d7c81f" mediaType="application/json">
          <con:settings/>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request>{\r
  "Id" : 234,\r
  "name" : "string",\r
  "serial" : "string"\r
}</con:request>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters/>
          <con:environmentSpec>
            <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
              <con:authProfile>Inherit From Parent</con:authProfile>
            </con:entry>
          </con:environmentSpec>
        </con:request>
        <con:environmentSpec>
          <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:method>
      <con:environmentSpec>
        <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
          <con:authProfile>Inherit From Parent</con:authProfile>
        </con:entry>
      </con:environmentSpec>
    </con:resource>
    <con:resource name="/products" path="/products" id="e3ca9700-081b-40f6-99c0-609ac40bd4f3">
      <con:settings id="5fbcf9de-b475-459c-ab86-7c0ce03964de">
        <con:setting id="e3ca9700-081b-40f6-99c0-609ac40bd4f3fileName">%2Fproducts</con:setting>
      </con:settings>
      <con:parameters/>
      <con:resource name="" path="" id="0e22ba55-0ec0-4b59-9dcb-e39b148ff59c">
        <con:settings/>
        <con:parameters/>
        <con:method name="getAll Filtros" id="e6eb0bc9-30b6-4b46-a65f-6122bd8aea96" method="GET">
          <con:settings/>
          <con:parameters>
            <con:parameter required="true">
              <con:name>text</con:name>
              <con:value/>
              <con:style>QUERY</con:style>
              <con:default/>
            </con:parameter>
          </con:parameters>
          <con:request name="con filtro" id="a6664659-abaf-4285-bb53-bd3ff3dd374f" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request/>
            <con:originalUri>http://localhost/products</con:originalUri>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters>
              <con:entry key="text" value="Tr"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>text</con:entry>
            </con:parameterOrder>
            <con:environmentSpec>
              <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
                <con:authProfile>Inherit From Parent</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:request>
          <con:environmentSpec>
            <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
              <con:authProfile>Inherit From Parent</con:authProfile>
            </con:entry>
          </con:environmentSpec>
        </con:method>
        <con:environmentSpec>
          <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:resource>
      <con:method name="getAll" id="5603f676-49a0-4831-8450-f8e124547670" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>OK</con:description>
        </con:representation>
        <con:request name="sin filtro" id="33b8dd81-d45d-46f2-a3e8-ec1c1d7991e4" mediaType="application/json">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request/>
          <con:originalUri>http://localhost/products</con:originalUri>
          <con:credentials>
            <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters/>
          <con:parameterOrder/>
          <con:environmentSpec>
            <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
              <con:authProfile>Inherit From Parent</con:authProfile>
            </con:entry>
          </con:environmentSpec>
        </con:request>
        <con:environmentSpec>
          <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:method>
      <con:method name="create" id="9ed3186c-b34b-41a7-8910-c303977fedf6" method="POST">
        <con:description>Endpoint para crear un producto concreto</con:description>
        <con:settings/>
        <con:parameters/>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>El producto enviado no es correcto</con:description>
          <con:sampleContent/>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>202</con:status>
          <con:params/>
          <con:description>Todo bien</con:description>
        </con:representation>
        <con:representation type="REQUEST">
          <con:mediaType>application/json</con:mediaType>
          <con:params/>
          <con:sampleContent>{
  "Id" : 234,
  "name" : "string",
  "serial" : "string"
}</con:sampleContent>
        </con:representation>
        <con:request name="Request 1" id="39b8d64a-0d9a-44bc-8f74-36ae92c39f26" mediaType="application/json">
          <con:settings/>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request>{\r
  "Id" : 234,\r
  "name" : "string",\r
  "serial" : "string"\r
}</con:request>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters/>
          <con:environmentSpec>
            <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
              <con:authProfile>Inherit From Parent</con:authProfile>
            </con:entry>
          </con:environmentSpec>
        </con:request>
        <con:environmentSpec>
          <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:method>
      <con:environmentSpec>
        <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
          <con:authProfile>Inherit From Parent</con:authProfile>
        </con:entry>
      </con:environmentSpec>
    </con:resource>
    <con:resource name="/users/{uid}" path="/users/{uid}" id="e27fcfd6-e49c-437f-b14b-5e163bcabb2f">
      <con:settings id="473c5f7d-5474-4d9d-a3c1-8ae303d9feb7">
        <con:setting id="e27fcfd6-e49c-437f-b14b-5e163bcabb2ffileName">%2Fusers%2F%7Buid%7D</con:setting>
      </con:settings>
      <con:parameters/>
      <con:method name="getOne" id="06f719c5-a1fb-4c33-8ad5-4c02914fdee7" method="GET">
        <con:settings/>
        <con:parameters>
          <con:parameter required="true">
            <con:name>uid</con:name>
            <con:style>TEMPLATE</con:style>
          </con:parameter>
        </con:parameters>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>OK</con:description>
        </con:representation>
        <con:request name="Request 1" id="4e06cd16-9b69-434d-8c34-b83497d5b90a" mediaType="application/json">
          <con:settings/>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters/>
          <con:environmentSpec>
            <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
              <con:authProfile>Inherit From Parent</con:authProfile>
            </con:entry>
          </con:environmentSpec>
        </con:request>
        <con:environmentSpec>
          <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:method>
      <con:method name="deleteUser" id="f75b02e4-c602-4b3a-b024-8e56f8d6422c" method="DELETE">
        <con:settings/>
        <con:parameters>
          <con:parameter required="true">
            <con:name>uid</con:name>
            <con:style>TEMPLATE</con:style>
          </con:parameter>
        </con:parameters>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>OK</con:description>
        </con:representation>
        <con:request name="Request 1" id="eb682d99-8a3b-4f3a-a210-46eec31cfa94" mediaType="application/json">
          <con:settings/>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters/>
          <con:environmentSpec>
            <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
              <con:authProfile>Inherit From Parent</con:authProfile>
            </con:entry>
          </con:environmentSpec>
        </con:request>
        <con:environmentSpec>
          <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:method>
      <con:method name="updateUser" id="b2483292-23ab-4bd5-918f-f3ac818ed809" method="PUT">
        <con:settings/>
        <con:parameters>
          <con:parameter required="true">
            <con:name>uid</con:name>
            <con:style>TEMPLATE</con:style>
          </con:parameter>
          <con:parameter required="true">
            <con:name>aUser</con:name>
            <con:style>QUERY</con:style>
          </con:parameter>
        </con:parameters>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>OK</con:description>
        </con:representation>
        <con:request name="Request 1" id="c04187a6-fce5-41ca-9e1e-ce414aa85e83" mediaType="application/json">
          <con:settings/>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters/>
          <con:environmentSpec>
            <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
              <con:authProfile>Inherit From Parent</con:authProfile>
            </con:entry>
          </con:environmentSpec>
        </con:request>
        <con:environmentSpec>
          <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:method>
      <con:environmentSpec>
        <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
          <con:authProfile>Inherit From Parent</con:authProfile>
        </con:entry>
      </con:environmentSpec>
    </con:resource>
    <con:resource name="/users" path="/users" id="f37d7b82-b9de-48f1-9dbc-46eca6844d45">
      <con:settings id="96e244d2-47de-4f25-9740-d9a72449e365">
        <con:setting id="f37d7b82-b9de-48f1-9dbc-46eca6844d45fileName">%2Fusers</con:setting>
      </con:settings>
      <con:parameters/>
      <con:method name="getAllUsers" id="04fc0cd6-56e5-400f-8ac9-5b1a9bd00c5f" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>OK</con:description>
        </con:representation>
        <con:request name="Request 1" id="f31919dd-c25a-45d8-b6ba-e17edc38ec2f" mediaType="application/json">
          <con:settings/>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters/>
          <con:environmentSpec>
            <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
              <con:authProfile>Inherit From Parent</con:authProfile>
            </con:entry>
          </con:environmentSpec>
        </con:request>
        <con:environmentSpec>
          <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:method>
      <con:method name="createUser" id="2816eda2-a554-4e4e-b0ac-41c194581a23" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
        </con:representation>
        <con:representation type="RESPONSE">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>OK</con:description>
        </con:representation>
        <con:representation type="REQUEST">
          <con:mediaType>application/json</con:mediaType>
          <con:params/>
          <con:sampleContent>{
  "uid" : 0,
  "email" : "string",
  "password" : "string",
  "role" : "USER"
}</con:sampleContent>
        </con:representation>
        <con:request name="Request 1" id="fec32c31-9f71-4089-a3b6-2fd8684ab3c3" mediaType="application/json">
          <con:settings/>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request>{\r
  "uid" : 0,\r
  "email" : "string",\r
  "password" : "string",\r
  "role" : "USER"\r
}</con:request>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters/>
          <con:environmentSpec>
            <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
              <con:authProfile>Inherit From Parent</con:authProfile>
            </con:entry>
          </con:environmentSpec>
        </con:request>
        <con:environmentSpec>
          <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:method>
      <con:environmentSpec>
        <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
          <con:authProfile>Inherit From Parent</con:authProfile>
        </con:entry>
      </con:environmentSpec>
    </con:resource>
  </con:interface>
  <con:testSuite id="45f52032-342f-47a0-b1d0-cf3808ba1003" name="Identificacion">
    <con:settings id="3e5beab1-fef0-4eb2-826d-ca0f78c22e08">
      <con:setting id="45f52032-342f-47a0-b1d0-cf3808ba1003fileName">Identificacion</con:setting>
    </con:settings>
    <con:runType>SEQUENTIAL</con:runType>
    <con:properties/>
    <con:reportParameters/>
    <con:environmentSpec>
      <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
        <con:authProfile>Inherit From Parent</con:authProfile>
      </con:entry>
    </con:environmentSpec>
    <con:testCase id="e0fbd290-a739-4562-a8ef-da5b0e2428d8" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="Obtengo token USER" searchProperties="true" timeout="0">
      <con:settings id="7ebc0fe5-c97e-4afc-a64f-1b081f445865">
        <con:setting id="e0fbd290-a739-4562-a8ef-da5b0e2428d8fileName">Obtengo-token-USER</con:setting>
      </con:settings>
      <con:testStep type="restrequest" name="login USER" id="4c33daaf-cd2c-4bbc-aa06-4edb87979feb">
        <con:settings/>
        <con:config service="Products Management API" resourcePath="/auth/login" methodName="login" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="login USER" id="f63b9cfe-3d0a-4383-a2b2-4d675f1bd254" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request>{\r
  "email" : "user@email.com",\r
  "password" : "upass"\r
}</con:request>
            <con:originalUri>http://localhost/auth/login</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="27b37cd5-b236-4af2-a276-ffe90c56a947" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="56311612-58bd-4d63-bdfd-9ccb024aedd5" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath RegEx Match" id="85e874b2-cf35-4119-801c-3c3da3c3e14b" name="JSONPath RegEx Match">
              <con:configuration>
                <path>$['accessToken']</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
                <regEx>.*\..*\..*</regEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters/>
            <con:environmentSpec>
              <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
                <con:authProfile>Inherit From Parent</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="actualizar Prop Token" id="193e2e88-9bf1-45cb-a3ed-d5269a8baee2">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>token</con:name>
            <con:sourceType>Response</con:sourceType>
            <con:sourceStep>login USER</con:sourceStep>
            <con:sourcePath>$['accessToken']</con:sourcePath>
            <con:targetType>token_user</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
            <con:targetPath/>
            <con:type>JSONPATH</con:type>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>token_user</con:name>
          <con:value>eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxLHVzZXJAZW1haWwuY29tIiwicm9sZSI6IlVTRVIiLCJpc3MiOiJjb20ubWljcm9jb21wYW55IiwiaWF0IjoxNzMwOTcwMDcwLCJleHAiOjE3MzEwNTY0NzB9.TOJb1kvVGN_KJ7F-DgD1jTabhjRFTh-Tpx1_dL0DlqGo3vYKQQQusr1VkkT13SEjjCPYkd2FInbkIbqZatwW1w</con:value>
        </con:property>
      </con:properties>
      <con:reportParameters/>
      <con:environmentSpec>
        <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
          <con:authProfile>Inherit From Parent</con:authProfile>
        </con:entry>
      </con:environmentSpec>
    </con:testCase>
    <con:testCase id="db9d31b6-7a46-4f18-94eb-2954e9335989" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="Identificacion ADMIN" searchProperties="true" timeout="0">
      <con:settings/>
      <con:testStep type="datasink" name="Guardar token" id="56caf745-0ae3-4283-8213-974ec222fbb3">
        <con:settings/>
        <con:config xsi:type="con:DataSinkStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:dataSink type="Property">
            <con:configuration>
              <prefix/>
              <content>${login admin#Response#$['accessToken']}</content>
              <suffix/>
              <property>token</property>
            </con:configuration>
          </con:dataSink>
          <con:properties>
            <con:property>
              <con:name>token</con:name>
              <con:value/>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Update TC token" id="7e92f2c4-e379-485b-8fa1-bd94af10a853">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>token</con:name>
            <con:sourceType>token</con:sourceType>
            <con:sourceStep>Guardar token</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>admin_token_tc</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
            <con:targetPath/>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>admin_token_tc</con:name>
          <con:value>eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyLGFkbWluQGVtYWlsLmNvbSIsInJvbGUiOiJBRE1JTiIsImlzcyI6ImNvbS5taWNyb2NvbXBhbnkiLCJpYXQiOjE3MzE0MTk3MzUsImV4cCI6MTczMTUwNjEzNX0.iCH8UGJSi1BmYt68uaj_UW1qRantsReQQtRvglQpPTNAmldh7N7J1A_Q8oKoAyoU_snFtXoUd_B0MlsLiToFvw</con:value>
        </con:property>
      </con:properties>
      <con:reportParameters/>
    </con:testCase>
  </con:testSuite>
  <con:testSuite id="44ea909c-044a-464f-b08d-869048c1c0d2" name="Productos">
    <con:settings id="6484fe1c-bdee-4822-8c5b-3431d53bfa18">
      <con:setting id="IncludeOverview">true</con:setting>
      <con:setting id="IncludeResults">true</con:setting>
      <con:setting id="FlowLayout">false</con:setting>
      <con:setting id="ErrorDetails">true</con:setting>
      <con:setting id="IncludeCoverage">true</con:setting>
      <con:setting id="44ea909c-044a-464f-b08d-869048c1c0d2fileName">Productos</con:setting>
    </con:settings>
    <con:runType>SEQUENTIAL</con:runType>
    <con:properties/>
    <con:reportParameters/>
    <con:environmentSpec>
      <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
        <con:authProfile>Inherit From Parent</con:authProfile>
      </con:entry>
    </con:environmentSpec>
    <con:testCase id="f5a31a89-afdb-455d-bdbe-b488a21fd1ef" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="Rechazo a zona privada para todos" searchProperties="true" timeout="0">
      <con:settings id="7daba995-f2a7-44d8-9edf-e7d680179c63">
        <con:setting id="f5a31a89-afdb-455d-bdbe-b488a21fd1effileName">Rechazo-a-zona-privada-para-todos</con:setting>
      </con:settings>
      <con:testStep type="restrequest" name="getAll" id="156fad68-5ff4-4140-97b4-0d467e1cd146">
        <con:settings/>
        <con:config service="Products Management API" methodName="getAll" resourcePath="/products" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="getAll" id="a559b873-e230-4b47-8880-f187819cf26b" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request/>
            <con:originalUri>http://localhost/products</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="7c5bb62f-9105-4e92-a51e-d58bee0f7f1a" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>401</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="e088f498-fe88-42e8-8a6a-9b59d1fa548b" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Simple NotContains" id="6a42e407-57b4-4c53-b063-6b2af5235933" name="Not Contains">
              <con:configuration>
                <token/>
                <ignoreCase>false</ignoreCase>
                <useRegEx>false</useRegEx>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="a9afde42-e650-4306-8542-b49a5963b891" name="Script Assertion">
              <con:configuration>
                <scriptText>import ProductUtils

ProductUtils.validar401Null(messageExchange)</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters/>
            <con:environmentSpec>
              <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
                <con:authProfile>Inherit From Parent</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="getAll con filtros" id="d3c794a8-433f-4ff6-b964-3f487d4528a3">
        <con:settings/>
        <con:config service="Products Management API" resourcePath="/products" methodName="getAll Filtros" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="getAll con filtros" id="a6664659-abaf-4285-bb53-bd3ff3dd374f" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request/>
            <con:originalUri>http://localhost/products</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="3662ac93-9b02-4348-9fe3-1ef223ca69d2" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>401</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="deaf717f-504c-48e0-8e68-77f1f3cb3ae8" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="44e75b4e-79c0-48bf-a624-4974f3eefa85" name="Script Assertion">
              <con:configuration>
                <scriptText>import ProductUtils
ProductUtils.validar401Null(messageExchange)</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters>
              <con:entry key="text" value="Tr"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>text</con:entry>
            </con:parameterOrder>
            <con:environmentSpec>
              <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
                <con:authProfile>Inherit From Parent</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
      <con:reportParameters/>
      <con:breakPoints>
        <con:testStepId>156fad68-5ff4-4140-97b4-0d467e1cd146</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>d3c794a8-433f-4ff6-b964-3f487d4528a3</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:environmentSpec>
        <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
          <con:authProfile>Inherit From Parent</con:authProfile>
        </con:entry>
      </con:environmentSpec>
    </con:testCase>
    <con:testCase id="31f06a11-3201-4595-b158-3fad6e44ef49" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="Rechazo a zona privada cada uno" searchProperties="true" timeout="0">
      <con:settings id="77af1ce3-e645-45af-84ef-61df25e9df79">
        <con:setting id="31f06a11-3201-4595-b158-3fad6e44ef49fileName">Rechazo-a-zona-privada-cada-uno</con:setting>
      </con:settings>
      <con:testStep type="datasource" name="genIds" id="72fb909e-581b-47ef-9946-4755b909dddd">
        <con:settings/>
        <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:dataSource type="Data Generator">
            <con:configuration>
              <generatedDataCount>10</generatedDataCount>
              <generatorsTotalNumber>1</generatorsTotalNumber>
              <lastSelectedProperty>-1</lastSelectedProperty>
              <GeneratorType0>INT</GeneratorType0>
              <PropertyName0>pid</PropertyName0>
              <repetitionCountpid>0</repetitionCountpid>
              <repeatValuespid>false</repeatValuespid>
              <IntegerDataGeneratorMinValuepid>1</IntegerDataGeneratorMinValuepid>
              <IntegerDataGeneratorMaxValuepid>100</IntegerDataGeneratorMaxValuepid>
              <IntegerDataGeneratorStepValuepid>1</IntegerDataGeneratorStepValuepid>
              <IntegerDataGeneratorConsequentValuespid>false</IntegerDataGeneratorConsequentValuespid>
              <escapeSpaceSequence/>
            </con:configuration>
          </con:dataSource>
          <con:shared>true</con:shared>
          <con:restartShared>true</con:restartShared>
          <con:property>pid</con:property>
          <con:startRow>1</con:startRow>
          <con:endRow>10</con:endRow>
          <con:recordsPerIteration>1</con:recordsPerIteration>
          <con:completeLastOperation>true</con:completeLastOperation>
          <con:trimValues>false</con:trimValues>
          <con:entitizeValues>false</con:entitizeValues>
          <con:restartOnRun>true</con:restartOnRun>
          <con:expandProperties>false</con:expandProperties>
          <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="getOne" id="1ec92a70-6bcb-45a3-980c-5257ed0e114d">
        <con:settings/>
        <con:config service="Products Management API" methodName="getOne_1" resourcePath="/products/{pid}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="getOne" id="d4ee3adb-0251-4203-9c8f-05ea83760c3c" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request/>
            <con:originalUri>http://localhost/products/1</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="e46b3628-0bb1-4dc0-99d4-07778c2eacd1" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>401</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="ea272b9c-1247-45ed-9ad2-28fc31b04f09" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="198610a7-bf4d-4086-be24-fd642dd43650" name="Script Assertion">
              <con:configuration>
                <scriptText>import ProductUtils
ProductUtils.validar401Null(messageExchange)</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters>
              <con:entry key="pid" value="${genIds#pid}"/>
            </con:parameters>
            <con:environmentSpec>
              <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
                <con:authProfile>Inherit From Parent</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="datasourceloop" name="Data Source Loop" id="3d035464-904f-45b0-98ed-93b28c4976f5">
        <con:settings/>
        <con:config>
          <dataSourceStep>genIds</dataSourceStep>
          <targetStep>getOne</targetStep>
          <discardResults>false</discardResults>
        </con:config>
      </con:testStep>
      <con:properties/>
      <con:reportParameters/>
      <con:environmentSpec>
        <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
          <con:authProfile>Inherit From Parent</con:authProfile>
        </con:entry>
      </con:environmentSpec>
    </con:testCase>
    <con:testCase id="746c50fd-28de-4c0c-953d-49b8ce6ccea1" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="Acceso a zona privada como USER" searchProperties="true" timeout="0">
      <con:settings id="f79429dd-c1cb-47bd-85ac-18a49691de76">
        <con:setting id="746c50fd-28de-4c0c-953d-49b8ce6ccea1fileName">Acceso-a-zona-privada-como-USER</con:setting>
      </con:settings>
      <con:testStep type="calltestcase" name="ejecutar Login USER" id="8c74d292-1f10-4ca1-8a0d-3a506029d4e2">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>e0fbd290-a739-4562-a8ef-da5b0e2428d8</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>token_user</con:name>
              <con:value>eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxLHVzZXJAZW1haWwuY29tIiwicm9sZSI6IlVTRVIiLCJpc3MiOiJjb20ubWljcm9jb21wYW55IiwiaWF0IjoxNzMxNTE2OTU4LCJleHAiOjE3MzE2MDMzNTh9.Uf1wTd2DUDw3Rc4iDmoRab7eQUmGsRS_-fW5vF5sDg_iXtPJRXA6p4mau910OBvhszLx6KOIxr7maZ6dArY96Q</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>token_user</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="getAll" id="ad79a85e-3f08-4c3a-86df-86f4f696066d">
        <con:settings/>
        <con:config service="Products Management API" resourcePath="/products" methodName="getAll" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="getAll" id="33b8dd81-d45d-46f2-a3e8-ec1c1d7991e4" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;con:entry key="Authorization" value="Bearer ${ejecutar Login USER#token_user}" xmlns:con="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request/>
            <con:originalUri>http://localhost/products</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="3b7f15e2-3720-40f4-ad52-4f5c8499bde2" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="7189dfa8-b592-4c21-9933-d7d765dfc1dc" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath RegEx Match" id="1fbc63bb-8ce5-45e1-a2bf-6a54938a3b8e" name="JSONPath RegEx Match">
              <con:configuration>
                <path>$</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
                <regEx>.*"id".*"name".*"serial".*</regEx>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonSchemaCompliance" id="9adaca0b-4a47-49c0-b8f9-34db1f29fd4c" name="JSON Schema Compliance">
              <con:configuration>
                <schemaUrl>http://localhost:9090/v3/api-docs</schemaUrl>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters/>
            <con:parameterOrder/>
            <con:environmentSpec>
              <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
                <con:authProfile>Inherit From Parent</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="getone" id="b8a46f26-c559-4527-8f7d-19f0185b1513">
        <con:settings/>
        <con:config service="Products Management API" methodName="getOne_1" resourcePath="/products/{pid}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="getone" id="e6eea807-a657-4524-934d-e49b22d3b8dc" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;con:entry key="Authorization" value="Bearer ${ejecutar Login USER#token_user}" xmlns:con="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request/>
            <con:originalUri>http://localhost/products/1</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="3078d44e-a2fb-426f-9bf1-54b8169a10f5" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="95b03e2f-cd26-4ece-8521-a74abe611c95" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath RegEx Match" id="ee9ed110-3f1b-4f04-9c37-01b12b37a183" name="JSONPath RegEx Match">
              <con:configuration>
                <path>$['id']</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
                <regEx>1</regEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters>
              <con:entry key="pid" value="1"/>
            </con:parameters>
            <con:environmentSpec>
              <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
                <con:authProfile>Inherit From Parent</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
      <con:reportParameters/>
      <con:environmentSpec>
        <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
          <con:authProfile>Inherit From Parent</con:authProfile>
        </con:entry>
      </con:environmentSpec>
    </con:testCase>
    <con:testCase id="b7c61f57-a24a-4cdc-a669-09d81cd1ce53" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="Flujo Navegacion como USER" searchProperties="true" timeout="0">
      <con:settings id="4947c3cf-5ef5-40c5-85b0-4507df6ccf6b">
        <con:setting id="b7c61f57-a24a-4cdc-a669-09d81cd1ce53fileName">Flujo-Navegacion-como-USER</con:setting>
      </con:settings>
      <con:testStep type="calltestcase" name="ejecutar Login USER" id="41023d80-f914-42c3-a0ae-5e1bef28ea16">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>e0fbd290-a739-4562-a8ef-da5b0e2428d8</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>token_user</con:name>
              <con:value>eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxLHVzZXJAZW1haWwuY29tIiwicm9sZSI6IlVTRVIiLCJpc3MiOiJjb20ubWljcm9jb21wYW55IiwiaWF0IjoxNzMxNDE5NDc5LCJleHAiOjE3MzE1MDU4Nzl9.4e6SVbwYANjpEVzmm4WPkdtN_nOK5l6v7x8awg_fQxUwikCLnFYNE9O12byZpCEZalbBWKwGBXdTdMwzHeAJrw</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>token_user</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="getAll" id="a611726a-c020-4bdd-ad1d-6daffbdec7db">
        <con:settings/>
        <con:config service="Products Management API" resourcePath="/products" methodName="getAll" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="getAll" id="33b8dd81-d45d-46f2-a3e8-ec1c1d7991e4" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;con:entry key="Authorization" value="Bearer ${ejecutar Login USER#token_user}" xmlns:con="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request/>
            <con:originalUri>http://localhost/products</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="3b7f15e2-3720-40f4-ad52-4f5c8499bde2" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="7189dfa8-b592-4c21-9933-d7d765dfc1dc" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath RegEx Match" id="1fbc63bb-8ce5-45e1-a2bf-6a54938a3b8e" name="JSONPath RegEx Match">
              <con:configuration>
                <path>$</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
                <regEx>.*"id".*"name".*"serial".*</regEx>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonSchemaCompliance" id="9adaca0b-4a47-49c0-b8f9-34db1f29fd4c" name="JSON Schema Compliance">
              <con:configuration>
                <schemaUrl>http://localhost:9090/v3/api-docs</schemaUrl>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters/>
            <con:parameterOrder/>
            <con:environmentSpec>
              <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
                <con:authProfile>Inherit From Parent</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="datasource" name="getIds from getAll" id="48ebb108-90bd-4b5c-af9a-cdd53e79757c">
        <con:settings/>
        <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:dataSource type="JSON">
            <con:configuration>
              <sourceStep>getAll</sourceStep>
              <sourceProperty>Response</sourceProperty>
              <rowPath>$</rowPath>
              <columnPath>['id']</columnPath>
            </con:configuration>
          </con:dataSource>
          <con:shared>true</con:shared>
          <con:restartShared>true</con:restartShared>
          <con:property>pid</con:property>
          <con:startRow>1</con:startRow>
          <con:endRow>100</con:endRow>
          <con:recordsPerIteration>2</con:recordsPerIteration>
          <con:completeLastOperation>true</con:completeLastOperation>
          <con:trimValues>false</con:trimValues>
          <con:entitizeValues>false</con:entitizeValues>
          <con:restartOnRun>true</con:restartOnRun>
          <con:expandProperties>false</con:expandProperties>
          <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="getOne" id="f6483db9-584c-46e7-a961-1646aef150fa">
        <con:settings/>
        <con:config service="Products Management API" methodName="getOne_1" resourcePath="/products/{pid}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="getOne" id="e6eea807-a657-4524-934d-e49b22d3b8dc" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;con:entry key="Authorization" value="Bearer ${ejecutar Login USER#token_user}" xmlns:con="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request/>
            <con:originalUri>http://localhost/products/1</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="3078d44e-a2fb-426f-9bf1-54b8169a10f5" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="95b03e2f-cd26-4ece-8521-a74abe611c95" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath RegEx Match" id="ee9ed110-3f1b-4f04-9c37-01b12b37a183" name="JSONPath RegEx Match">
              <con:configuration>
                <path>$['id']</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
                <regEx>[0-9]{1,}</regEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters>
              <con:entry key="pid" value="${getIds from getAll#pid}"/>
            </con:parameters>
            <con:environmentSpec>
              <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
                <con:authProfile>Inherit From Parent</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="datasourceloop" name="iterar sobre ids" id="01911993-0210-40c1-a814-76a450b46a97">
        <con:settings/>
        <con:config>
          <dataSourceStep>getIds from getAll</dataSourceStep>
          <targetStep>getOne</targetStep>
          <discardResults>true</discardResults>
        </con:config>
      </con:testStep>
      <con:properties/>
      <con:reportParameters/>
      <con:environmentSpec>
        <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
          <con:authProfile>Inherit From Parent</con:authProfile>
        </con:entry>
      </con:environmentSpec>
    </con:testCase>
    <con:testCase id="249c1ad0-2a01-4df7-89ee-50c9dec160ff" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="Flujo Navegacion como ADMIN" searchProperties="true" timeout="0">
      <con:settings/>
      <con:testStep type="calltestcase" name="ejecutar Login USER" id="bb804eba-cb5a-4d28-8ecd-64dfe0e668d3">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>db9d31b6-7a46-4f18-94eb-2954e9335989</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>admin_token_tc</con:name>
              <con:value>eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIyLGFkbWluQGVtYWlsLmNvbSIsInJvbGUiOiJBRE1JTiIsImlzcyI6ImNvbS5taWNyb2NvbXBhbnkiLCJpYXQiOjE3MzE0MjAyNDEsImV4cCI6MTczMTUwNjY0MX0.jgB_y1lUBQp-G00J2HbkwqdJHKsn2rDWAz1MC-iS33QcK1TW0EkkmkLLbrRaxGhnJ4Fsj8sMqt-elIFD0AgpPQ</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>admin_token_tc</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="datasource" name="productDataFromDB" id="93d24c59-83cc-4851-9003-9185b78af492">
        <con:settings/>
        <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:dataSource type="Groovy">
            <con:configuration>
              <script>import groovy.sql.Sql

// Preconditions: properties "name" and "serial" exist
log.info("Reading from db ... ")

// Get current row (iteration of n asked to load)
def it = testRunner.testCase.testSteps["productDataFromDB"].currentRow;
log.info("iter: ${it}")

// DB params
def sql = Sql.newInstance('jdbc:mysql://localhost:3306/productsdb', 'products_user', 'rapi123', 'com.mysql.jdbc.Driver')

sql.eachRow("SELECT * FROM products Limit 1 OFFSET ${it} "){ row ->
	log.info("row: ${row.name} ${row.serial}")
	result['name'] = row.name
	result['serial'] = row.serial
}

sql.close()</script>
            </con:configuration>
          </con:dataSource>
          <con:shared>true</con:shared>
          <con:restartShared>true</con:restartShared>
          <con:property>name</con:property>
          <con:property>serial</con:property>
          <con:startRow>1</con:startRow>
          <con:endRow>10</con:endRow>
          <con:recordsPerIteration>1</con:recordsPerIteration>
          <con:completeLastOperation>true</con:completeLastOperation>
          <con:trimValues>false</con:trimValues>
          <con:entitizeValues>false</con:entitizeValues>
          <con:restartOnRun>true</con:restartOnRun>
          <con:expandProperties>false</con:expandProperties>
          <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
        </con:config>
      </con:testStep>
      <con:testStep type="datasourceloop" name="CreateLoop" id="8fc03f39-5706-4f40-80ad-a8e3569d3f72">
        <con:settings/>
        <con:config>
          <dataSourceStep>productDataFromDB</dataSourceStep>
          <targetStep>create</targetStep>
          <discardResults>true</discardResults>
        </con:config>
      </con:testStep>
      <con:properties/>
      <con:reportParameters/>
    </con:testCase>
  </con:testSuite>
  <con:testSuite id="cdbdbc86-7c58-4121-9f49-f70b74f2bd1e" name="Script Sxamples">
    <con:settings id="8ac001cd-2c56-42b8-837a-4c1843fc2c3e"/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="6412b7ba-b9a3-4f85-a637-a43cfb8edf97" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="Test Case for scritps" searchProperties="true" timeout="0">
      <con:settings>
        <con:setting id="IncludeOverview">true</con:setting>
        <con:setting id="IncludeResults">true</con:setting>
        <con:setting id="FlowLayout">false</con:setting>
        <con:setting id="ErrorDetails">true</con:setting>
        <con:setting id="IncludeCoverage">true</con:setting>
      </con:settings>
      <con:testStep type="groovy" name="Update test case prop" id="f436f372-e059-4c10-972b-54e9e5195eca">
        <con:settings/>
        <con:config>
          <script>log.info("============= SCRIPT UDPATE PROP =================I")

def propToUpdatte = 'MyProp'
def newValue = 'new Value'

// --- Con context
def currTescCase = context.getTestCase()
log.info("Test case:: ${ currTescCase.name}")

def tcProps =  currTescCase.properties

for (var aProp  in tcProps){
	log.info("Prop: ${aProp.key}")
	if(aProp.key == propToUpdatte){
		aProp.setValue(newValue);
		break
	}
}

def aProp = currTescCase.getProperty(propToUpdatte)
aProp.setValue(newValue);

// con testrunner
def prop2ToUpdate = 'SecProp'
def newValue2 = 'new Value 2'
testRunner.getTestCase().getProperty(prop2ToUpdate).setValue(newValue2)

// update with previous result
def testResults = testRunner.results
def result = ''
def  stepName = "getOne"

for( aResp in testResults ){
	log.info ">  TestStep [" + aResp.testStep.name + "] finished with status " + aResp.status
	if( aResp.testStep.name == stepName){		
		result = aResp.responseContent
		//break;
	}
}

testRunner.getTestCase().getProperty(prop2ToUpdate).setValue(result)
log.info("Test case prop 2: ${testRunner.getTestCase().getProperty(prop2ToUpdate).getValue()} ")</script>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Lib use" id="744284be-56fb-4025-8c88-05f9be12a023">
        <con:settings/>
        <con:config>
          <script>import Callee

c = new Callee()
log.info(c.hello())

Callee.salute("Ricardo",log)</script>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Access assertions" id="51adebcc-298c-43f8-9c90-49c01d0c6fdf">
        <con:settings/>
        <con:config>
          <script>log.info("============= SCRIPT ACCESS ASSERTIONS  =================I")

testRunner.testCase.testSteps.each{ name,props ->
    log.info "Test step name: $name"
    // check that the testStep class support assertions     
    if(props.metaClass.respondsTo(props, "getAssertionList")){
        // get assertionList
        props.getAssertionList().each{
           log.info "-Assertion:  $it.label - $it.status"
        }
    }
}

log.info("END....")</script>
        </con:config>
      </con:testStep>
      <con:testStep type="datasink" name="Save results" id="768f90c2-671f-4073-9f67-e5d6f7bd8909">
        <con:settings/>
        <con:config xsi:type="con:DataSinkStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:dataSink type="Groovy">
            <con:configuration>
              <script>import groovy.sql.Sql
import java.util.Date   

log.info("Storing results scrpit...")


def stepName = "getOne"

// DB params
try{
	def sql = Sql.newInstance('jdbc:mysql://localhost:3306/productsdb', 'products_user', 'rapi123', 'com.mysql.jdbc.Driver')
	sql.connection.autoCommit = false
}catch(Exception ex){
	log.error("Error conectándose: ${ex}")
	//testRunner.fail("Error de conexión")
}

Date date = new Date()
def fecha = date.format( 'yyyy-MM-dd' )
def testStepName = 'login user'

String status = '';
def passed

/* Using a property */
/*
def testStep =  context.testCase.getTestStepByName("Guardar token")
def stepProperty = testStep.getProperty("token")
def passed = stepProperty.getValue()!=null
*/

/* Rerunning a step */

/*
def rtestStep =  context.testCase.getTestStepByName(stepName)
String status = testRunner.runTestStep(rtestStep).status
passed = status.equals("PASS")
log.info("status: ${status}")*/

/* Searching for results */
log.info("results: ${testRunner.results}")
for( r in testRunner.results ){
	log.info "*** TestStep [" + r.testStep.name + "] finished with status " + r.status
	if(stepName == r.testStep.name){		
		status = r.status
		break;
	}
}

if(status != ''){
	passed = status.equals("PASS")
	// Geneate query
	def sqlstr = "INSERT INTO results (fecha,teststepname,resultado) VALUES (${fecha},${stepName}, ${passed})" 
	log.info("sqlstr: ${sqlstr}")	
	
	// Insert
	try {
		sql.execute(sqlstr);
		sql.commit()
		log.info("Successfully committed")
	}catch(Exception ex) {
		sql.rollback()
		log.error("Transaction rollback: ${ex}")		
	}
	
	sql.close()
}</script>
            </con:configuration>
          </con:dataSink>
          <con:properties/>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>MyProp</con:name>
          <con:value>new Value</con:value>
        </con:property>
        <con:property>
          <con:name>SecProp</con:name>
          <con:value>{"id":2,"title":"Book 2","description":"Accusam dolore kasd justo te accumsan minim dolor liber ipsum. Tempor duo dolores dolor dolor enim velit sed ea nonumy eos. Magna stet erat diam possim aliquam tation diam erat sanctus ipsum ea et et. Stet nulla no suscipit ipsum sadipscing invidunt sea augue. Ut elitr sadipscing sed nonumy suscipit eirmod et molestie dolore. Nihil dolor lorem aliquyam kasd ut diam erat elit amet gubergren kasd iusto voluptua ea magna sit aliquyam duo. Et sea consetetur dolores molestie duis sea lorem tation sit. Eirmod voluptua wisi dolore consetetur ipsum quod eros dolores accusam imperdiet eu dolore sit duis dolores labore. Dolor duo veniam vel imperdiet laoreet et dolor et est. Ipsum sit aliquyam invidunt kasd elitr sed kasd sed amet aliquyam dolore. Sit et iusto et rebum. Elitr diam magna clita placerat amet iusto vel erat invidunt sit et takimata blandit. Et est et sit vel dolores dolore ad kasd magna magna diam. Ad elit magna labore illum magna voluptua erat sed stet. Dolor nostrud lorem invidunt consetetur in zzril amet luptatum justo eos ex sed rebum dolor diam voluptua sit. Sed kasd qui euismod ad ea rebum duis est molestie ad accusam erat vero et duo labore clita. Labore feugiat consequat. Dolor elitr dolores liber esse duo sed consectetuer gubergren duis. Sea et dignissim elitr invidunt clita et at.\n","pageCount":200,"excerpt":"Consequat ipsum facilisi dolore ut clita tempor erat et euismod eum eirmod ullamcorper suscipit consetetur amet. Elitr sed stet illum et. Est elitr nonumy sit diam est lorem consequat tempor erat. Dolore et erat erat erat tation sit amet lorem sanctus erat amet nonumy ea exerci invidunt. Et eum sed sed lorem. Aliquyam et illum dolor accusam nulla stet imperdiet accusam elitr vero liber. Rebum stet lorem diam stet amet amet luptatum nibh rebum clita stet accusam amet adipiscing et diam dolor. Consetetur diam eleifend et est sanctus takimata erat invidunt ipsum vel. Duis rebum amet at est accusam. Takimata sed ipsum sit lorem invidunt aliquyam invidunt. Elitr nibh elitr et ut eirmod magna invidunt sit takimata no sit elitr et sit autem sit takimata ut. Dolor sit vel nonumy. Rebum no labore sit dolor sanctus dolores vero accusam et gubergren clita lorem option nulla qui blandit vero sed. Vel magna gubergren nonumy eos amet eirmod velit dolor tempor accumsan eirmod. Sed stet est dolor takimata possim facilisis luptatum eros hendrerit rebum illum voluptua. Te sadipscing possim iusto lorem consetetur praesent ipsum voluptua vel sit possim consetetur elitr kasd.\nStet sed dolore facer sanctus rebum voluptua mazim voluptua eirmod diam magna no dignissim amet eos sadipscing clita. Dolore luptatum no sit ad. Lorem eros takimata dolor ipsum aliquam et lorem sit eirmod eum lorem labore. Ut vel lorem vel. Augue sit erat hendrerit amet voluptua amet sadipscing invidunt aliquip duo rebum accusam vero invidunt sanctus at. Nulla sadipscing tempor erat odio dolor.\nEros feugiat et amet. Facer justo ipsum sed iriure dolore et amet eos clita quis ipsum. Voluptua clita sanctus stet dolor et dolores congue takimata dolore. Erat tempor eirmod et rebum ad sit kasd nonumy justo erat ea exerci. Quis ea clita at elit. Iriure nonumy sea eirmod vero nihil. Sadipscing diam et amet vero labore sed assum at odio nostrud eos. Et rebum esse. Amet kasd exerci takimata est est sadipscing sit consetetur nonumy nonumy dolor tation rebum ut voluptua. Voluptua facilisi kasd feugiat magna aliquam commodo elitr consequat ex veniam augue iusto suscipit laoreet sit sea. Invidunt no kasd duo stet consetetur nonumy vel no dolor sed clita at consetetur feugait facer. Diam et velit sed in invidunt kasd dolor kasd. Elitr nobis accusam voluptua eros volutpat duo diam ipsum dolore dolor sit duo eirmod et rebum justo iusto. Dolor eos vero exerci exerci aliquyam eos amet tation ipsum et ut wisi amet volutpat tempor rebum clita dolor. Vero luptatum rebum velit dolores in dolore vel et delenit aliquyam takimata nonumy ad. Sea voluptua feugiat at adipiscing no illum est zzril sit sed sed wisi esse lorem takimata. Eirmod diam clita et sadipscing liber et consetetur facilisis ea invidunt amet eos ipsum eros. Laoreet dolores ut vulputate.\nIusto et vero eos sit sed takimata eirmod ipsum lorem diam ut doming. Diam invidunt labore takimata sanctus vel sanctus et lorem consectetuer kasd duo duo et no zzril magna quis et. Invidunt dolore elitr takimata gubergren option consequat accusam aliquyam volutpat diam. Dolor justo ea sadipscing sanctus sit tempor aliquam mazim eos amet sit diam. Elitr sed in eu amet gubergren dolores diam consetetur no labore liber sed. Consetetur delenit et autem dolore vero at amet accusam delenit.\nErat ut labore dolore tempor amet. Lorem tempor in sanctus iriure nonumy lorem. Elit lorem sit ea blandit at elitr ea sadipscing eos amet iriure. Stet in tempor diam vero vero sanctus accumsan eirmod magna dignissim magna. Nibh liber sadipscing gubergren dolor esse justo velit et feugiat gubergren diam erat hendrerit dolore vero sadipscing. Eu id labore hendrerit labore eos voluptua at feugiat. Sea amet dolor rebum eum erat. Nonumy takimata odio et est. Sea et elitr velit enim vulputate labore et soluta takimata aliquyam sea kasd vero no. Aliquyam ut et amet nostrud vel eu clita sanctus erat accusam et.\n","publishDate":"2024-11-10T09:34:41.6607633+00:00"}</con:value>
        </con:property>
      </con:properties>
      <con:reportParameters/>
    </con:testCase>
    <con:testCase id="34f625d5-86db-4865-b44f-e6ca79598e0d" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="DataSource Scripts" searchProperties="true" timeout="0">
      <con:settings/>
      <con:testStep type="datasource" name="Read CSV" id="70fcec78-2d58-47e1-b059-e83019c20d36">
        <con:settings/>
        <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:dataSource type="Groovy">
            <con:configuration>
              <script>// Preconditions: properties "name" and "serial" exist
log.info("Reading csv ... ")

// Get current row (iteration of n asked to load)
def row = testRunner.testCase.testSteps["Read CSV"].currentRow;
log.info("row: ${row}")

// CSV path
def fileName = "C:/Curso/workspace/ready-api/data_source/books/books.csv";
log.info("fileName: ${fileName}")

def file = new File(fileName)

/* RAW */
/*def csvRows = file.readLines().tail()*.split(',')

log.info("csvRows: ${csvRows.size}")

if (row &lt; csvRows.size) {    
	result['name'] = csvRows[row][0]
	result['serial'] = csvRows[row][1]
}*/

/* EFFICIENT */

String readFileLineByLine(String filePath, lineNumber) {
    File file = new File(filePath)
    def line, noOfLines = 0;
    file.withReader { reader ->
        while ((line = reader.readLine()) != null &amp;&amp; noOfLines &lt;= lineNumber) {
            //log.info("readFileLineByLine.line: ${noOfLines} -  ${line}")
            if(noOfLines==lineNumber) break;
            else noOfLines++
        }
    }
    return line
}

def aLine = readFileLineByLine(fileName, row+1)
log.info("aLine: ${aLine}")

if (aLine != null) {
	def aLineArr = aLine.split(',')
	result['name'] = aLineArr[0]
	result['serial'] = aLineArr[1]
}</script>
            </con:configuration>
          </con:dataSource>
          <con:shared>true</con:shared>
          <con:restartShared>true</con:restartShared>
          <con:property>name</con:property>
          <con:property>serial</con:property>
          <con:restartOnRun>true</con:restartOnRun>
          <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
        </con:config>
      </con:testStep>
      <con:testStep type="datasource" name="Read DB" id="9508ed15-6084-40ce-a281-7d502f4bd3c5">
        <con:settings/>
        <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:dataSource type="Groovy">
            <con:configuration>
              <script>import groovy.sql.Sql

// Preconditions: properties "name" and "serial" exist
log.info("Reading from db ... ")

// Get current row (iteration of n asked to load)
def it = testRunner.testCase.testSteps["Read DB"].currentRow;
log.info("iter: ${it}")

// DB params
def sql = Sql.newInstance('jdbc:mysql://localhost:3306/productsdb', 'products_user', 'rapi123', 'com.mysql.jdbc.Driver')

sql.eachRow("SELECT * FROM products Limit 1 OFFSET ${it} "){ row ->
	log.info("row: ${row.name} ${row.serial}")
	result['name'] = row.name
	result['serial'] = row.serial
}

sql.close()</script>
            </con:configuration>
          </con:dataSource>
          <con:shared>true</con:shared>
          <con:restartShared>true</con:restartShared>
          <con:property>name</con:property>
          <con:property>serial</con:property>
          <con:restartOnRun>true</con:restartOnRun>
          <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
        </con:config>
      </con:testStep>
      <con:properties/>
      <con:reportParameters/>
    </con:testCase>
    <con:properties/>
    <con:reportParameters/>
  </con:testSuite>
  <con:testSuite id="283b79a3-ecd5-495e-9a33-a5108eaa0d05" name="Single request Security Tests">
    <con:settings id="ad40f5dc-a944-4400-bc2d-b30638715341"/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="0291ea2d-fe81-4ffd-89ca-9dcdd8f3f2e0" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="Security TestCase 1" searchProperties="true" timeout="0">
      <con:settings/>
      <con:testStep type="restrequest" name="sin filtro" id="1c190d74-dd74-4cc1-9ccd-1a9dc18ee56f">
        <con:settings/>
        <con:config service="Products Management API" resourcePath="/products" methodName="getAll" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="sin filtro" id="33b8dd81-d45d-46f2-a3e8-ec1c1d7991e4" mediaType="application/json">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request/>
            <con:originalUri>http://localhost/products</con:originalUri>
            <con:credentials>
              <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters/>
            <con:parameterOrder/>
            <con:environmentSpec>
              <con:entry environmentId="43c8271f-2370-4c3e-81ab-c7b872e4c83e">
                <con:authProfile>Inherit From Parent</con:authProfile>
              </con:entry>
            </con:environmentSpec>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
      <con:reportParameters/>
    </con:testCase>
    <con:properties/>
    <con:reportParameters/>
  </con:testSuite>
</con:soapui-project>

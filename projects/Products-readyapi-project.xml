<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="be76e90d-4d41-450a-bb21-d0f41da3ee75" created="3.55.0" activeEnvironment="Default environment" encryptionMode="Not encrypted" name="MyOnlineShoppingService" projectVersion="" updated="3.55.0 2024-10-04T09:33:05Z" resourceRoot="" xmlns:con="http://eviware.com/soapui/config">
  <con:settings/>
  <con:interface xsi:type="con:RestService" id="323491ab-a212-4d15-ab36-66b0924a1790" name="Products Management API" type="rest_ex" wadlVersion="https://swagger.io/openapiv3/specification" definitionUrl="http://localhost:9090/v3/api-docs" basePath="" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <con:description>This API exposes endpoints to manage products.</con:description>
    <con:settings id="3b745e70-63a5-4eb1-b369-bd3809e49528"/>
    <con:definitionCache type="TEXT" rootPart="http://localhost:9090/v3/api-docs">
      <con:part>
        <con:url>http://localhost:9090/v3/api-docs</con:url>
        <con:content>{"openapi":"3.0.1","info":{"title":"Products Management API","description":"This API exposes endpoints to manage products.","termsOfService":"https://www.netmind.es/terms","contact":{"name":"Contact name","url":"https://www.netmind.es","email":"contact@c.com"},"license":{"name":"MIT License","url":"https://choosealicense.com/licenses/mit/"},"version":"1.0"},"servers":[{"url":"http://localhost:9090","description":"Server URL in Development environment"},{"url":"https://localhost:8443","description":"Server URL in Production environment"}],"security":[{"Bearer Authentication":[]}],"tags":[{"name":"Endpoints de productos","description":"Usa estos endpoints para crear y consumir productos"},{"name":"Endpoint de identificación","description":"Usa este endpoint para identificarte con tu email y contraseña"},{"name":"Endpoints de usuarios","description":"Usa estos endpoints para crear y consumir usuarios"}],"paths":{"/users/{uid}":{"get":{"tags":["Endpoints de usuarios"],"operationId":"getOne","parameters":[{"name":"uid","in":"path","required":true,"style":"simple","explode":false,"schema":{"minimum":1,"type":"integer","format":"int32"}}],"responses":{"412":{"description":"Precondition Failed","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/StatusMessage"},{"type":"object","additionalProperties":{"type":"string"}},{"type":"string"}]}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Usuario"}}}}}},"put":{"tags":["Endpoints de usuarios"],"operationId":"updateUser","parameters":[{"name":"uid","in":"path","required":true,"style":"simple","explode":false,"schema":{"type":"integer","format":"int32"}},{"name":"aUser","in":"query","required":true,"style":"form","explode":true,"schema":{"$ref":"#/components/schemas/Usuario"}}],"responses":{"412":{"description":"Precondition Failed","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/StatusMessage"},{"type":"object","additionalProperties":{"type":"string"}},{"type":"string"}]}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}},"delete":{"tags":["Endpoints de usuarios"],"operationId":"deleteUser","parameters":[{"name":"uid","in":"path","required":true,"style":"simple","explode":false,"schema":{"type":"integer","format":"int32"}}],"responses":{"412":{"description":"Precondition Failed","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/StatusMessage"},{"type":"object","additionalProperties":{"type":"string"}},{"type":"string"}]}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/products/{pid}":{"get":{"tags":["Endpoints de productos"],"summary":"Obtener un producto","description":"Endpoint para obtener un producto concreto","operationId":"getOne_1","parameters":[{"name":"pid","in":"path","description":"El identificador del producto","required":true,"style":"simple","explode":false,"schema":{"minimum":1,"type":"integer","format":"int64"},"example":234}],"responses":{"412":{"description":"Precondition Failed","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/StatusMessage"},{"type":"object","additionalProperties":{"type":"string"}},{"type":"string"}]}}}},"200":{"description":"Todo bien","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Producto"}}}},"404":{"description":"El producto no existe","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Producto"}}}}}},"put":{"tags":["Endpoints de productos"],"operationId":"updateProduct","parameters":[{"name":"pid","in":"path","required":true,"style":"simple","explode":false,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Producto"}}},"required":true},"responses":{"412":{"description":"Precondition Failed","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/StatusMessage"},{"type":"object","additionalProperties":{"type":"string"}},{"type":"string"}]}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}},"delete":{"tags":["Endpoints de productos"],"operationId":"deleteProduct","parameters":[{"name":"pid","in":"path","required":true,"style":"simple","explode":false,"schema":{"type":"integer","format":"int64"}}],"responses":{"412":{"description":"Precondition Failed","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/StatusMessage"},{"type":"object","additionalProperties":{"type":"string"}},{"type":"string"}]}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/users":{"get":{"tags":["Endpoints de usuarios"],"operationId":"getAllUsers","responses":{"412":{"description":"Precondition Failed","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/StatusMessage"},{"type":"object","additionalProperties":{"type":"string"}},{"type":"string"}]}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Usuario"}}}}}}},"post":{"tags":["Endpoints de usuarios"],"operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Usuario"}}},"required":true},"responses":{"412":{"description":"Precondition Failed","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/StatusMessage"},{"type":"object","additionalProperties":{"type":"string"}},{"type":"string"}]}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/products":{"post":{"description":"","requestBody":{"content":{"application/json":{"example":"{\r\n  \"Id\" : 234,\r\n  \"name\" : \"string\",\r\n  \"serial\" : \"string\"\r\n}"}}},"responses":{"412":{"description":"El producto enviado no es correcto","content":{"*/*":{"example":""}}},"202":{"description":"Todo bien","content":{"*/*":{"example":""}}}}}},"/auth/login":{"post":{"tags":["Endpoint de identificación"],"operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthRequest"}}},"required":true},"responses":{"412":{"description":"Precondition Failed","content":{"*/*":{"schema":{"oneOf":[{"$ref":"#/components/schemas/StatusMessage"},{"type":"object","additionalProperties":{"type":"string"}},{"type":"string"}]}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}}},"components":{"schemas":{"StatusMessage":{"type":"object","properties":{"status_code":{"type":"integer","format":"int32"},"message":{"type":"string"}}},"Usuario":{"type":"object","properties":{"uid":{"type":"integer","format":"int32"},"email":{"type":"string"},"password":{"type":"string"},"role":{"type":"string","enum":["USER","ADMIN","GESTOR","CLIENTE"]}},"description":"Representa un usuario del sistema"},"Producto":{"required":["name","serial"],"type":"object","properties":{"Id":{"type":"integer","description":"El identificador único del producto. Debe ser un número mayor que 0. No es requerido en POST y PUT","format":"int64","example":234},"name":{"maxLength":20,"minLength":3,"type":"string"},"serial":{"type":"string"}},"description":"Representa un producto a intercambiar"},"AuthRequest":{"required":["email","password"],"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}}}},"securitySchemes":{"Bearer_Authentication":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}</con:content>
        <con:type>https://swagger.io/openapiv3/specification</con:type>
      </con:part>
    </con:definitionCache>
    <con:endpoints>
      <con:endpoint>http://localhost:9090</con:endpoint>
      <con:endpoint>https://localhost:8443</con:endpoint>
    </con:endpoints>
    <con:environmentSpec>
      <con:entry environmentId="Default">
        <con:authProfile>Usuario</con:authProfile>
      </con:entry>
    </con:environmentSpec>
    <con:resource name="/users/{uid}" path="/users/{uid}" id="b9c19dcc-2572-4876-b5b7-71b6c4d62ac8">
      <con:settings/>
      <con:parameters/>
      <con:method name="getOne" id="3130e396-2ce4-45e8-92a7-24275af4fa17" method="GET">
        <con:settings/>
        <con:parameters>
          <con:parameter required="true">
            <con:name>uid</con:name>
            <con:value/>
            <con:style>TEMPLATE</con:style>
            <con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
            <con:description xsi:nil="true"/>
          </con:parameter>
        </con:parameters>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>OK</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="aea83098-d1bd-4a1d-a67d-bec28eb3dc14" mediaType="application/json">
          <con:description xsi:nil="true"/>
          <con:settings/>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>uid</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="deleteUser" id="10e99fc0-15c8-447f-b974-fc560e83c60b" method="DELETE">
        <con:settings/>
        <con:parameters>
          <con:parameter required="true">
            <con:name>uid</con:name>
            <con:value/>
            <con:style>TEMPLATE</con:style>
            <con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
            <con:description xsi:nil="true"/>
          </con:parameter>
        </con:parameters>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>OK</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="92208202-0e9d-477f-9fdd-da453f85a5c6" mediaType="application/json">
          <con:description xsi:nil="true"/>
          <con:settings/>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>uid</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="updateUser" id="b803c0d0-2673-46c5-bac1-6139e4362a27" method="PUT">
        <con:settings/>
        <con:parameters>
          <con:parameter required="true">
            <con:name>uid</con:name>
            <con:value/>
            <con:style>TEMPLATE</con:style>
            <con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
            <con:description xsi:nil="true"/>
          </con:parameter>
          <con:parameter required="true">
            <con:name>aUser</con:name>
            <con:value/>
            <con:style>QUERY</con:style>
            <con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
            <con:description xsi:nil="true"/>
          </con:parameter>
        </con:parameters>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>OK</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="2e18484c-5c57-4b52-a87d-0337b78d93d0" mediaType="application/json">
          <con:description xsi:nil="true"/>
          <con:settings/>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>uid</con:entry>
            <con:entry>aUser</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="/products/{pid}" path="/products/{pid}" id="1ca1f9f8-ccc4-47de-9016-56a43394ba16">
      <con:settings/>
      <con:parameters/>
      <con:method name="getOne_1" id="a19b2774-7345-4fed-ad4f-cd8e2efe0666" method="GET">
        <con:settings/>
        <con:parameters>
          <con:parameter required="true">
            <con:name>pid</con:name>
            <con:value/>
            <con:style>TEMPLATE</con:style>
            <con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
            <con:description>El identificador del producto</con:description>
          </con:parameter>
        </con:parameters>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>Todo bien</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>404</con:status>
          <con:params/>
          <con:description>El producto no existe</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="af82532a-29df-4ec3-8516-19f331548774" mediaType="application/json">
          <con:description xsi:nil="true"/>
          <con:settings/>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>pid</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="deleteProduct" id="5f436ac2-baa9-4b00-b80f-0d6c0f858d5d" method="DELETE">
        <con:settings/>
        <con:parameters>
          <con:parameter required="true">
            <con:name>pid</con:name>
            <con:value/>
            <con:style>TEMPLATE</con:style>
            <con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
            <con:description xsi:nil="true"/>
          </con:parameter>
        </con:parameters>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>OK</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="e78b50b3-0e3e-4dd8-a9f6-d22ccc7320da" mediaType="application/json">
          <con:description xsi:nil="true"/>
          <con:settings/>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>pid</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
      <con:method name="updateProduct" id="c0bd62fa-f83f-4b75-bb8c-c64e67afefe2" method="PUT">
        <con:settings/>
        <con:parameters>
          <con:parameter required="true">
            <con:name>pid</con:name>
            <con:value/>
            <con:style>TEMPLATE</con:style>
            <con:type xmlns:xs="http://www.w3.org/2001/XMLSchema">xs:string</con:type>
            <con:description xsi:nil="true"/>
          </con:parameter>
        </con:parameters>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>OK</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:representation type="REQUEST" id="">
          <con:mediaType>application/json</con:mediaType>
          <con:status/>
          <con:params/>
          <con:description xsi:nil="true"/>
          <con:sampleContent>{
  "Id" : 234,
  "name" : "string",
  "serial" : "string"
}</con:sampleContent>
        </con:representation>
        <con:request name="Request 1" id="e420b18d-bfa1-4b12-89e8-48b2bfa4f8b0" mediaType="application/json">
          <con:settings/>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request>{\r
  "Id" : 234,\r
  "name" : "string",\r
  "serial" : "string"\r
}</con:request>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:parameters/>
          <con:parameterOrder>
            <con:entry>pid</con:entry>
          </con:parameterOrder>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="/users" path="/users" id="f4f59d3d-4fcd-4e2e-aacc-9dd884801fad">
      <con:settings/>
      <con:parameters/>
      <con:method name="getAllUsers" id="d8b631b7-fd23-48b3-a17c-ffaf3b3dd089" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>OK</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="13ae3432-65ab-4c10-854b-ba0e156558f2" mediaType="application/json">
          <con:description xsi:nil="true"/>
          <con:settings/>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request/>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:parameters/>
        </con:request>
      </con:method>
      <con:method name="createUser" id="17e56fd2-3a62-4256-bd86-5c32a6050136" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>OK</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:representation type="REQUEST" id="">
          <con:mediaType>application/json</con:mediaType>
          <con:status/>
          <con:params/>
          <con:description xsi:nil="true"/>
          <con:sampleContent>{
  "uid" : 0,
  "email" : "string",
  "password" : "string",
  "role" : "USER"
}</con:sampleContent>
        </con:representation>
        <con:request name="Request 1" id="45fd1c00-218b-4685-ab4a-055d44f1dc92" mediaType="application/json">
          <con:settings/>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request>{\r
  "uid" : 0,\r
  "email" : "string",\r
  "password" : "string",\r
  "role" : "USER"\r
}</con:request>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:parameters/>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="/products" path="/products" id="a92dbe70-cec2-462b-b946-2454732821c9">
      <con:settings/>
      <con:parameters/>
      <con:resource name="filter" path="" id="16d55509-6da5-4245-8578-72900364a8a8">
        <con:settings/>
        <con:parameters/>
        <con:method name="GET" id="3975e56d-87e2-473c-af4e-89c5ef28ae05" method="GET">
          <con:settings/>
          <con:parameters>
            <con:parameter required="true">
              <con:name>text</con:name>
              <con:value/>
              <con:style>QUERY</con:style>
              <con:default/>
            </con:parameter>
          </con:parameters>
          <con:request name="Request 1" id="c1c6ca1a-3cf2-491c-adf7-3a30a2f70f99" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request/>
            <con:originalUri>http://localhost/products/products</con:originalUri>
            <con:credentials>
              <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters>
              <con:entry key="text" value="Tr"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>text</con:entry>
            </con:parameterOrder>
          </con:request>
        </con:method>
      </con:resource>
      <con:method name="getAll" id="e58cdacd-74d1-4ea1-a8c8-61d484efe73e" method="GET">
        <con:settings/>
        <con:parameters/>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>OK</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:request name="Request 1" id="6b5fbe0e-6234-46e1-a677-367ef0d6780a" mediaType="application/json">
          <con:description xsi:nil="true"/>
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request/>
          <con:originalUri>http://localhost/products</con:originalUri>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters/>
          <con:parameterOrder/>
        </con:request>
      </con:method>
      <con:method name="create" id="cdd97dcb-2d2e-4aef-9428-7052d28c20d4" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>El producto enviado no es correcto</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>202</con:status>
          <con:params/>
          <con:description>Todo bien</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:representation type="REQUEST" id="">
          <con:mediaType>application/json</con:mediaType>
          <con:status/>
          <con:params/>
          <con:description xsi:nil="true"/>
          <con:sampleContent>{
  "Id" : 234,
  "name" : "string",
  "serial" : "string"
}</con:sampleContent>
        </con:representation>
        <con:request name="Request 1" id="582acf46-7ef0-4166-93fb-e90fd2b06601" mediaType="application/json">
          <con:description>Endpoint para crear un producto concreto</con:description>
          <con:settings/>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request>{\r
  "Id" : 234,\r
  "name" : "string",\r
  "serial" : "string"\r
}</con:request>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:parameters/>
        </con:request>
      </con:method>
    </con:resource>
    <con:resource name="/auth/login" path="/auth/login" id="acd38c6e-6b32-4983-a309-e93324831a1f">
      <con:settings/>
      <con:parameters/>
      <con:method name="login" id="be59b658-24f4-44c5-b3e6-1385dc7c1349" method="POST">
        <con:settings/>
        <con:parameters/>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>412</con:status>
          <con:params/>
          <con:description>Precondition Failed</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:representation type="RESPONSE" id="">
          <con:mediaType>*/*</con:mediaType>
          <con:status>200</con:status>
          <con:params/>
          <con:description>OK</con:description>
          <con:sampleContent xsi:nil="true"/>
        </con:representation>
        <con:representation type="REQUEST" id="">
          <con:mediaType>application/json</con:mediaType>
          <con:status/>
          <con:params/>
          <con:description xsi:nil="true"/>
          <con:sampleContent>{
  "email" : "string",
  "password" : "string"
}</con:sampleContent>
        </con:representation>
        <con:request name="login user" id="7dd1a2b4-231c-4617-b2dd-d07917dd5efc" mediaType="application/json" postQueryString="false">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request>{\r
  "email" : "user@email.com",\r
  "password" : "upass"\r
}</con:request>
          <con:originalUri>http://localhost/auth/login</con:originalUri>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters/>
          <con:parameterOrder/>
        </con:request>
        <con:request name="login admin" id="7dd1a2b4-231c-4617-b2dd-d07917dd5efc" mediaType="application/json" postQueryString="false">
          <con:settings>
            <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
          </con:settings>
          <con:endpoint>http://localhost:9090</con:endpoint>
          <con:request>{\r
  "email" : "admin@email.com",\r
  "password" : "apass"\r
}</con:request>
          <con:originalUri>http://localhost/auth/login</con:originalUri>
          <con:credentials>
            <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
            <con:authType>No Authorization</con:authType>
          </con:credentials>
          <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
          <con:parameters/>
          <con:parameterOrder/>
        </con:request>
      </con:method>
    </con:resource>
  </con:interface>
  <con:testSuite id="1e2ace9e-167d-4a02-8d27-002d35ef34b7" name="Identificaciòn">
    <con:settings id="5084905a-e54c-4489-9b15-66eac6c171cb"/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="34ddccd7-2b20-484c-b407-7f2a3550ce17" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="Identificacion USER" searchProperties="true" timeout="0">
      <con:settings/>
      <con:testStep type="restrequest" name="login user" id="a04957bb-3a34-4037-809f-c8e53e381f6e">
        <con:settings/>
        <con:config service="Products Management API" resourcePath="/auth/login" methodName="login" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="login user" id="7dd1a2b4-231c-4617-b2dd-d07917dd5efc" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request>{\r
  "email" : "user@email.com",\r
  "password" : "upass"\r
}</con:request>
            <con:originalUri>http://localhost/auth/login</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="5386601c-cb72-4eb7-8d99-f75547944fd7" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="b321386e-b081-4ae1-af20-af98f00ca6b9" name="Response SLA">
              <con:configuration>
                <SLA>300</SLA>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath RegEx Match" id="0aec2146-4fd8-40eb-a69e-808287b30f12" name="JSONPath RegEx Match">
              <con:configuration>
                <path>$['accessToken']</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
                <regEx>^[\w-]+\.[\w-]+\.[\w-]+$</regEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters/>
            <con:parameterOrder/>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="datasink" name="Guardar token" id="82895e49-dc75-453a-ab9c-d82f822090a5">
        <con:settings/>
        <con:config xsi:type="con:DataSinkStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:dataSink type="Property">
            <con:configuration>
              <prefix/>
              <content>${login user#Response#$['accessToken']}</content>
              <suffix/>
              <property>token</property>
            </con:configuration>
          </con:dataSink>
          <con:properties>
            <con:property>
              <con:name>token</con:name>
              <con:value/>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Update TC token" id="2895c3f1-8712-42a4-8eb0-01eeffbff29d">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>token</con:name>
            <con:sourceType>token</con:sourceType>
            <con:sourceStep>Guardar token</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>user_token_tc</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
            <con:targetPath/>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>user_token_tc</con:name>
          <con:value>eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxLHVzZXJAZW1haWwuY29tIiwicm9sZSI6IlVTRVIiLCJpc3MiOiJjb20ubWljcm9jb21wYW55IiwiaWF0IjoxNzMwOTk3NDA2LCJleHAiOjE3MzEwODM4MDZ9.Mbmvj8cVYLGZDp3zdUUFrtmUFVbtq6DxTMCPlnqNv-WVC8u09zyQzgZZ6pNf3XPqPZ1w0-YXWt030JLw5Walqg</con:value>
        </con:property>
      </con:properties>
      <con:reportParameters/>
    </con:testCase>
    <con:testCase id="9555b4de-930d-47eb-8d50-fa7abcf64281" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="Identificacion ADMIN" searchProperties="true" timeout="0">
      <con:settings/>
      <con:testStep type="restrequest" name="login admin" id="3897308b-5ae2-4dd2-b268-67433f11dae6">
        <con:settings/>
        <con:config service="Products Management API" resourcePath="/auth/login" methodName="login" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="login admin" id="7dd1a2b4-231c-4617-b2dd-d07917dd5efc" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request>{\r
  "email" : "admin@email.com",\r
  "password" : "apass"\r
}</con:request>
            <con:originalUri>http://localhost/auth/login</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="10e7001c-594c-4cad-8e52-74dce00264d5" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="416fc00c-2c44-40a3-b28a-bf5e89579e80" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath RegEx Match" id="935ba3f3-d544-42dc-b2b7-203f5c1feb97" name="JSONPath RegEx Match">
              <con:configuration>
                <path>$['accessToken']</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
                <regEx>^[\w-]+\.[\w-]+\.[\w-]+$</regEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters/>
            <con:parameterOrder/>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="datasink" name="Guardar token" id="294f9cf5-3e8f-42ff-88cd-cd634b99c767">
        <con:settings/>
        <con:config xsi:type="con:DataSinkStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:dataSink type="Property">
            <con:configuration>
              <prefix/>
              <content>${login user#Response#$['accessToken']}</content>
              <suffix/>
              <property>token</property>
            </con:configuration>
          </con:dataSink>
          <con:properties>
            <con:property>
              <con:name>token</con:name>
              <con:value/>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="transfer" name="Update TC token" id="eb350cc6-24a4-412f-aae9-a05fa9cf00f2">
        <con:settings/>
        <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
            <con:name>token</con:name>
            <con:sourceType>token</con:sourceType>
            <con:sourceStep>Guardar token</con:sourceStep>
            <con:sourcePath/>
            <con:targetType>admin_token_tc</con:targetType>
            <con:targetStep>#TestCase#</con:targetStep>
            <con:targetPath/>
            <con:upgraded>true</con:upgraded>
          </con:transfers>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>admin_token_tc</con:name>
          <con:value/>
        </con:property>
      </con:properties>
      <con:reportParameters/>
    </con:testCase>
    <con:testCase id="e8140bb0-dc83-4675-ac55-14a2aa50ea2c" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="Rechazo Usuarios No validos" searchProperties="true" timeout="0">
      <con:settings/>
      <con:testStep type="datasource" name="genFakeUsers" id="e30d47dd-f2ba-4684-8655-61147f2adbcd">
        <con:settings/>
        <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:dataSource type="Data Generator">
            <con:configuration>
              <generatedDataCount>10</generatedDataCount>
              <generatorsTotalNumber>2</generatorsTotalNumber>
              <lastSelectedProperty>1</lastSelectedProperty>
              <GeneratorType0>EMAIL</GeneratorType0>
              <PropertyName0>email</PropertyName0>
              <repetitionCountemail>0</repetitionCountemail>
              <repeatValuesemail>false</repeatValuesemail>
              <GeneratorType1>SET</GeneratorType1>
              <PropertyName1>password</PropertyName1>
              <repetitionCountpassword>0</repetitionCountpassword>
              <repeatValuespassword>false</repeatValuespassword>
              <ValueFromSetIsSequenceValuepassword>false</ValueFromSetIsSequenceValuepassword>
              <ValueFromSetStringspassword>upass</ValueFromSetStringspassword>
              <ValueFromSetStringspassword>apass</ValueFromSetStringspassword>
              <escapeSpaceSequence/>
            </con:configuration>
          </con:dataSource>
          <con:shared>true</con:shared>
          <con:restartShared>true</con:restartShared>
          <con:property>email</con:property>
          <con:property>password</con:property>
          <con:startRow>1</con:startRow>
          <con:endRow>100</con:endRow>
          <con:recordsPerIteration>1</con:recordsPerIteration>
          <con:completeLastOperation>true</con:completeLastOperation>
          <con:trimValues>false</con:trimValues>
          <con:entitizeValues>false</con:entitizeValues>
          <con:restartOnRun>true</con:restartOnRun>
          <con:expandProperties>false</con:expandProperties>
          <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="login" id="ce9f6ed4-2831-41c1-b785-de1972a70293">
        <con:settings/>
        <con:config service="Products Management API" methodName="login" resourcePath="/auth/login" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="login" id="8f3816a2-98f2-4f42-b4dd-78a68b2c5620" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:encoding>UTF-8</con:encoding>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request>{
  "email" : "${genFakeUsers#email}",
  "password" : "${genFakeUsers#password}"
}</con:request>
            <con:originalUri>http://localhost/auth/login</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="b5de5352-056e-4cd0-bc59-80b93c679d42" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>401</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="62f9a976-344b-4970-9ec5-dc08ddd03ef4" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Simple NotContains" id="2e6d64bc-4374-4fea-a12f-1cd3d01ab0b4" name="Not Contains">
              <con:configuration>
                <token/>
                <ignoreCase>false</ignoreCase>
                <useRegEx>false</useRegEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters/>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="datasourceloop" name="Data Source Loop" id="8dd85840-e6f0-45b5-8bb6-790dcca7360c">
        <con:settings/>
        <con:config>
          <dataSourceStep>genFakeUsers</dataSourceStep>
          <targetStep>login</targetStep>
          <discardResults>true</discardResults>
        </con:config>
      </con:testStep>
      <con:properties/>
      <con:reportParameters/>
    </con:testCase>
    <con:testCase id="f4348bda-2a80-4de0-b35c-d9da07e7734e" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="*** ScriptSamples ***" searchProperties="true" timeout="0">
      <con:settings/>
      <con:testStep type="restrequest" name="login user" id="bc00cfc1-3f4d-48e1-a6db-9302ee136c82">
        <con:settings/>
        <con:config service="Products Management API" resourcePath="/auth/login" methodName="login" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="login user" id="7dd1a2b4-231c-4617-b2dd-d07917dd5efc" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request>{\r
  "email" : "user@email.com",\r
  "password" : "upass"\r
}</con:request>
            <con:originalUri>http://localhost/auth/login</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="5386601c-cb72-4eb7-8d99-f75547944fd7" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="b321386e-b081-4ae1-af20-af98f00ca6b9" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:assertion type="GroovyScriptAssertion" id="4a9d1ba6-b878-4f83-ab0a-24e377ff7935" name="Script Assertion">
              <con:configuration>
                <scriptText>import groovy.json.JsonSlurper

log.info("Executing validate response script...")
def response = messageExchange.response
log.info("response: ${response}")

// show headers
def headers = response.responseHeaders
for (var aHeader in headers){
	log.info("aHeader: ${aHeader}")
}

// assert status
def status = headers.get("#status#")
log.info("status: ${status}")

assert ["HTTP/1.1 200 "] == status

// assert body
def bodyStr = response.contentAsString
log.info("bodyStr: ${bodyStr}")

// transform to json
def parser = new JsonSlurper()

def jsonResp = parser.parseText(bodyStr)
def email = jsonResp.email

log.info("email: ${email}")

def emailRegex = /[_A-Za-z0-9-]+(.[_A-Za-z0-9-]+)*@[A-Za-z0-9]+(.[A-Za-z0-9]+)*(.[A-Za-z]{2,})/
assert email ==~ emailRegex</scriptText>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters/>
            <con:parameterOrder/>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="datasink" name="Guardar token" id="c9eacc59-884c-453b-80ef-27ef9215f6b8">
        <con:settings/>
        <con:config xsi:type="con:DataSinkStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:dataSink type="Property">
            <con:configuration>
              <prefix/>
              <content>${login user#Response#$['accessToken']}</content>
              <suffix/>
              <property>token</property>
            </con:configuration>
          </con:dataSink>
          <con:properties>
            <con:property>
              <con:name>token</con:name>
              <con:value/>
            </con:property>
          </con:properties>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="get all products" id="cd9f3dff-6d12-4b22-902d-af47e483f2c0">
        <con:settings/>
        <con:config service="Products Management API" resourcePath="/products" methodName="getAll" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="get all products" id="6b5fbe0e-6234-46e1-a677-367ef0d6780a" mediaType="application/json">
            <con:description xsi:nil="true"/>
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;con:entry key="Authorization" value="Bearer ${#TestCase#token_tc}" xmlns:con="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request/>
            <con:originalUri>http://localhost/products</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="5d8c3392-b05f-4100-9b87-9db89df105dd" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="6df8e4c7-b10a-4122-9aa9-35031a1dde50" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters/>
            <con:parameterOrder/>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Update TC propeties Script" id="0a0c2dd6-4e73-401b-b8e8-9f84b4f983bc">
        <con:settings/>
        <con:config>
          <script>log.info("Executing update properties script...")

/* USING context */
def testCase = context.testCase
log.info("tc name: ${testCase.name}")

// show tc props list
for (aPropName in testCase.propertyNames) {
	def aProp = testCase.getProperty(aPropName); 
	log.info("arProp: ${aPropName} > ${aProp.getValue()}")
}

// show tc test steps
for (aStep in testCase.testStepList) {		
	log.info("aStep: ${aStep.name}")
}

// get test step and token prop
def gtTesStep = testCase.getTestStepByName("Guardar token")
def tokenProp = gtTesStep.getProperty("token")
def tokenVal = tokenProp.getValue()
log.info("tokenVal: ${tokenVal}")

// update test case property
def tokeTC = testCase.getProperty("token_tc")
tokeTC.setValue(tokenVal)

log.info("updated tokeTC: ${tokeTC.getValue()}")


log.info("=========================================")

/* USING testRunner */

def rtestCase = testRunner.testCase
log.info("rtc name: ${rtestCase.name}")

// show tc props list
for (arPropName in rtestCase.propertyNames) {
	def arProp = rtestCase.getProperty(arPropName); 
	log.info("arProp: ${arPropName} > ${arProp.getValue()}")
}

// show tc test steps
for (arStep in rtestCase.testStepList) {		
	log.info("arStep: ${arStep.name}")
}

// get test step and token prop
def rgtTesStep = rtestCase.getTestStepByName("Guardar token")
def rtokenProp = rgtTesStep.getProperty("token")
def rtokenVal = rtokenProp.getValue()

log.info("rtokenVal: ${rtokenVal}")

// update test case property
def rtokeTC = rtestCase.getProperty("token_tc")
rtokeTC.setValue(rtokenVal)

log.info("updated rtokeTC: ${rtokeTC.getValue()}")</script>
        </con:config>
      </con:testStep>
      <con:testStep type="datasink" name="SaveLoginResult" id="b766381d-3a80-4f97-a97a-c39fa9af93be">
        <con:settings/>
        <con:config xsi:type="con:DataSinkStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:dataSink type="Groovy">
            <con:configuration>
              <script>import groovy.sql.Sql
import java.util.Date   

log.info("Storing results scrpit...")

def stepName = "login user"

// DB params
def sql = Sql.newInstance('jdbc:mysql://localhost:3306/productsdb', 'products_user', 'rapi123', 'com.mysql.jdbc.Driver')
sql.connection.autoCommit = false

Date date = new Date()
def fecha = date.format( 'yyyy-MM-dd' )
def testStepName = 'login user'

String status = '';
def passed

/* Using a property */
/*
def testStep =  context.testCase.getTestStepByName("Guardar token")
def stepProperty = testStep.getProperty("token")
def passed = stepProperty.getValue()!=null
*/

/* Rerunning a step */

/*
def rtestStep =  context.testCase.getTestStepByName(stepName)
String status = testRunner.runTestStep(rtestStep).status
passed = status.equals("PASS")
log.info("status: ${status}")*/

/* Searching for results */
log.info("results: ${testRunner.results}")
for( r in testRunner.results ){
	log.info "*** TestStep [" + r.testStep.name + "] finished with status " + r.status
	if(stepName == r.testStep.name){		
		status = r.status
		break;
	}
}

if(status != ''){
	passed = status.equals("PASS")
	// Geneate query
	def sqlstr = "INSERT INTO results (fecha,teststepname,resultado) VALUES (${fecha},'login user', ${passed})" 
	log.info("sqlstr: ${sqlstr}")
	
	
	// Insert
	try {
		sql.execute(sqlstr);
		sql.commit()
		log.info("Successfully committed")
	}catch(Exception ex) {
		sql.rollback()
		log.error("Transaction rollback: ${ex}")
	}
	
	sql.close()
}</script>
            </con:configuration>
          </con:dataSink>
          <con:properties/>
        </con:config>
      </con:testStep>
      <con:testStep type="datasource" name="Get dir Files" id="391d18a6-3ffb-42df-b9ce-50a569249dec">
        <con:settings/>
        <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:dataSource type="Groovy">
            <con:configuration>
              <script>// Preconditions: properties "file" and "size" exist

import groovy.io.FileType

log.info("Reading a dir files ... ")

// Get current row (iteration of n asked to load)
def row = testRunner.testCase.testSteps["Get dir Files"].currentRow;
log.info("row: ${row}")

// Folder name
def folderName = "D:/Shared/MyTrainingRepos/ready-api/data_source/products";
log.info("folderName: ${folderName}")

// read files
def fileNames = [];
def fileSizes = [];
new File(folderName).eachFile(FileType.FILES){file -> {
	log.info("file: ${file.name}")
     fileNames.add(file.name);
     fileSizes.add(file.size().toString());
} }

// update result
if (row &lt; fileNames.size) {    
    result["file"] = fileNames[row];
    result["size"] = fileSizes[row];
}

log.info("result: ${result}")</script>
            </con:configuration>
          </con:dataSource>
          <con:shared>true</con:shared>
          <con:restartShared>true</con:restartShared>
          <con:property>file</con:property>
          <con:property>size</con:property>
          <con:completeLastOperation>true</con:completeLastOperation>
          <con:restartOnRun>true</con:restartOnRun>
          <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
        </con:config>
      </con:testStep>
      <con:testStep type="datasource" name="Read CSV" id="0fa928b3-421f-45ef-87cf-0059a3dfa2d8">
        <con:settings/>
        <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:dataSource type="Groovy">
            <con:configuration>
              <script>// Preconditions: properties "name" and "serial" exist
log.info("Reading csv ... ")

// Get current row (iteration of n asked to load)
def row = testRunner.testCase.testSteps["Read CSV"].currentRow;
log.info("row: ${row}")

// CSV path
def fileName = "D:/Shared/MyTrainingRepos/ready-api/data_source/products/products_lite.csv";
log.info("fileName: ${fileName}")

def file = new File(fileName)

/* RAW */
/*def csvRows = file.readLines().tail()*.split(',')

log.info("csvRows: ${csvRows.size}")

if (row &lt; csvRows.size) {    
	result['name'] = csvRows[row][0]
	result['serial'] = csvRows[row][1]
}*/

/* EFFICIENT */

String readFileLineByLine(String filePath, lineNumber) {
    File file = new File(filePath)
    def line, noOfLines = 0;
    file.withReader { reader ->
        while ((line = reader.readLine()) != null &amp;&amp; noOfLines &lt;= lineNumber) {
            //log.info("readFileLineByLine.line: ${noOfLines} -  ${line}")
            if(noOfLines==lineNumber) break;
            else noOfLines++
        }
    }
    return line
}

def aLine = readFileLineByLine(fileName, row+1)
log.info("aLine: ${aLine}")

if (aLine != null) {
	def aLineArr = aLine.split(',')
	result['name'] = aLineArr[0]
	result['serial'] = aLineArr[1]
}</script>
            </con:configuration>
          </con:dataSource>
          <con:shared>true</con:shared>
          <con:restartShared>true</con:restartShared>
          <con:property>name</con:property>
          <con:property>serial</con:property>
          <con:completeLastOperation>true</con:completeLastOperation>
          <con:restartOnRun>true</con:restartOnRun>
          <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
        </con:config>
      </con:testStep>
      <con:testStep type="datasource" name="Read DB" id="e034979e-d5f3-4c58-ad8e-f59f22ec0801">
        <con:settings/>
        <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:dataSource type="Groovy">
            <con:configuration>
              <script>import groovy.sql.Sql

log.info("Reading from db ... ")

// Get current row (iteration of n asked to load)
def it = testRunner.testCase.testSteps["Read DB"].currentRow;
log.info("iter: ${it}")

// DB params
def sql = Sql.newInstance('jdbc:mysql://localhost:3306/productsdb', 'products_user', 'rapi123', 'com.mysql.jdbc.Driver')

sql.eachRow("SELECT * FROM products Limit 1 OFFSET ${it} "){ row ->
	log.info("row: ${row.name} ${row.serial}")
	result['name'] = row.name
	result['serial'] = row.serial
}

sql.close()</script>
            </con:configuration>
          </con:dataSource>
          <con:shared>true</con:shared>
          <con:restartShared>true</con:restartShared>
          <con:property>name</con:property>
          <con:property>serial</con:property>
          <con:completeLastOperation>true</con:completeLastOperation>
          <con:restartOnRun>true</con:restartOnRun>
          <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
        </con:config>
      </con:testStep>
      <con:testStep type="groovy" name="Lib user" id="724688d1-f310-4ced-968e-c66a77800d17">
        <con:settings/>
        <con:config>
          <script>import Callee

log.info("Using Callee lib  ... ")

c = new Callee()
log.info c.hello("Mike")</script>
        </con:config>
      </con:testStep>
      <con:properties>
        <con:property>
          <con:name>token_tc</con:name>
          <con:value>eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxLHVzZXJAZW1haWwuY29tIiwicm9sZSI6IlVTRVIiLCJpc3MiOiJjb20ubWljcm9jb21wYW55IiwiaWF0IjoxNzMwOTk3Mzc0LCJleHAiOjE3MzEwODM3NzR9.soSeXHtBIhcv28-7xqeODjrty6xQA2GIi15olvBWQmMkmbGD82oawNdJqspkwZzrOwauUKZ6AcHVaEaUgzd0gg</con:value>
        </con:property>
      </con:properties>
      <con:reportParameters/>
    </con:testCase>
    <con:properties/>
    <con:setupScript>log.info("Executing test case setup script...")
log.info("Reseting all test cases properties...")
for (atestCase in testSuite.testCaseList){
	log.info("atestCase : ${atestCase.name}")
	def tcProps = atestCase.propertyList	
	for (aProp in tcProps){
		log.info("resetin prop: ${aProp.name}")
		aProp.setValue(null)
	}
}</con:setupScript>
    <con:reportParameters/>
  </con:testSuite>
  <con:testSuite id="716047bc-5dd8-40f6-9e6b-8932ca3f1dc6" name="Productos">
    <con:settings id="7720081e-abfa-443e-a515-749b014053f1"/>
    <con:runType>SEQUENTIAL</con:runType>
    <con:testCase id="c1623736-b683-4107-8097-8412103dec5c" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="Rechazo Zona privada" searchProperties="true" timeout="0">
      <con:settings>
        <con:setting id="IncludeOverview">true</con:setting>
        <con:setting id="IncludeResults">true</con:setting>
        <con:setting id="FlowLayout">false</con:setting>
        <con:setting id="ErrorDetails">true</con:setting>
        <con:setting id="IncludeCoverage">true</con:setting>
      </con:settings>
      <con:testStep type="restrequest" name="getAll" id="4f4d8546-5a7f-40f2-9551-080ec382b060">
        <con:settings/>
        <con:config service="Products Management API" resourcePath="/products" methodName="getAll" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="getAll" id="6b5fbe0e-6234-46e1-a677-367ef0d6780a" mediaType="application/json">
            <con:description xsi:nil="true"/>
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request/>
            <con:originalUri>http://localhost/products</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="295adc08-cf75-4382-9f76-3798c010c579" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>401</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="bc7d89a9-6d1e-433e-8732-39cb42c22648" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters/>
            <con:parameterOrder/>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="datasource" name="genIds" id="eaa976a5-d5fa-4309-b358-e7b5359f7888">
        <con:settings/>
        <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:dataSource type="Data Generator">
            <con:configuration>
              <generatedDataCount>10</generatedDataCount>
              <generatorsTotalNumber>1</generatorsTotalNumber>
              <lastSelectedProperty>0</lastSelectedProperty>
              <GeneratorType0>INT</GeneratorType0>
              <PropertyName0>pid</PropertyName0>
              <repetitionCountpid>0</repetitionCountpid>
              <repeatValuespid>false</repeatValuespid>
              <IntegerDataGeneratorMinValuepid>11</IntegerDataGeneratorMinValuepid>
              <IntegerDataGeneratorMaxValuepid>100</IntegerDataGeneratorMaxValuepid>
              <IntegerDataGeneratorStepValuepid>1</IntegerDataGeneratorStepValuepid>
              <IntegerDataGeneratorConsequentValuespid>true</IntegerDataGeneratorConsequentValuespid>
              <escapeSpaceSequence/>
            </con:configuration>
          </con:dataSource>
          <con:shared>true</con:shared>
          <con:restartShared>true</con:restartShared>
          <con:property>pid</con:property>
          <con:startRow>1</con:startRow>
          <con:endRow>5</con:endRow>
          <con:recordsPerIteration>1</con:recordsPerIteration>
          <con:completeLastOperation>true</con:completeLastOperation>
          <con:trimValues>false</con:trimValues>
          <con:entitizeValues>false</con:entitizeValues>
          <con:restartOnRun>true</con:restartOnRun>
          <con:expandProperties>false</con:expandProperties>
          <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="getOne" id="ab8a4fef-d6e1-4c11-b3b8-e03a42faf056">
        <con:settings/>
        <con:config service="Products Management API" resourcePath="/products/{pid}" methodName="getOne_1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="getOne" id="af82532a-29df-4ec3-8516-19f331548774" mediaType="application/json">
            <con:description xsi:nil="true"/>
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request/>
            <con:originalUri>http://localhost/products/1</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="0d14ae0d-d394-49ab-b64d-e187de229f7e" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>401</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="627873b7-8ee4-40e2-af33-c1b57a569d9e" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters>
              <con:entry key="pid" value="${getIds#pid}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>pid</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="datasourceloop" name="GetOneLoop" id="76feffc3-4f7c-4f6f-8424-11782fd96ace">
        <con:settings/>
        <con:config>
          <dataSourceStep>genIds</dataSourceStep>
          <targetStep>getOne</targetStep>
          <discardResults>true</discardResults>
        </con:config>
      </con:testStep>
      <con:testStep type="datasource" name="newUserData" id="4885fff2-73f8-479f-ad82-83dfc09f5d85">
        <con:settings/>
        <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:dataSource type="File">
            <con:configuration>
              <fileName>D:/Shared/MyTrainingRepos/ready-api/data_source/products/products_lite.csv</fileName>
              <separator>,</separator>
              <trim>true</trim>
              <charset>Cp1252</charset>
              <quotedValues>false</quotedValues>
            </con:configuration>
          </con:dataSource>
          <con:shared>true</con:shared>
          <con:restartShared>true</con:restartShared>
          <con:property>name</con:property>
          <con:property>serial</con:property>
          <con:startRow>2</con:startRow>
          <con:endRow>11</con:endRow>
          <con:recordsPerIteration>1</con:recordsPerIteration>
          <con:completeLastOperation>true</con:completeLastOperation>
          <con:trimValues>false</con:trimValues>
          <con:entitizeValues>false</con:entitizeValues>
          <con:restartOnRun>true</con:restartOnRun>
          <con:expandProperties>false</con:expandProperties>
          <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="create" id="2a66cdb3-2bf2-4a8d-bb81-1cb6f35aa4fc">
        <con:settings/>
        <con:config service="Products Management API" resourcePath="/products" methodName="create" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="create" id="582acf46-7ef0-4166-93fb-e90fd2b06601" mediaType="application/json" postQueryString="false">
            <con:description>Endpoint para crear un producto concreto</con:description>
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request>{\r
  "name" : "${newUserData#name}",\r
  "serial" : "${newUserData#serial}"
}</con:request>
            <con:originalUri>http://localhost/products</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="8f8a27de-36e7-41eb-9c0f-cfa74c21846a" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>401</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="89364d4c-8295-47c0-98bc-1de01f8f2ce8" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters/>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="datasourceloop" name="CreateLoop" id="5204911f-cf06-449c-95f3-eac93a8064ff">
        <con:settings/>
        <con:config>
          <dataSourceStep>newUserData</dataSourceStep>
          <targetStep>create</targetStep>
          <discardResults>true</discardResults>
        </con:config>
      </con:testStep>
      <con:properties/>
      <con:reportParameters/>
      <con:breakPoints>
        <con:testStepId>4f4d8546-5a7f-40f2-9551-080ec382b060</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>ab8a4fef-d6e1-4c11-b3b8-e03a42faf056</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>76feffc3-4f7c-4f6f-8424-11782fd96ace</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>2a66cdb3-2bf2-4a8d-bb81-1cb6f35aa4fc</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
      <con:breakPoints>
        <con:testStepId>5204911f-cf06-449c-95f3-eac93a8064ff</con:testStepId>
        <con:status>NONE</con:status>
        <con:properties/>
      </con:breakPoints>
    </con:testCase>
    <con:testCase id="d71cdb45-a19d-41bd-98f4-32be6f6082a6" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="Acceso a Zona privada Solo lectura" searchProperties="true" timeout="0">
      <con:settings/>
      <con:testStep type="calltestcase" name="Run Login USER" id="51f2704d-9f04-41d1-a3d2-80fca10bbff2">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>34ddccd7-2b20-484c-b407-7f2a3550ce17</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>user_token_tc</con:name>
              <con:value>eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxLHVzZXJAZW1haWwuY29tIiwicm9sZSI6IlVTRVIiLCJpc3MiOiJjb20ubWljcm9jb21wYW55IiwiaWF0IjoxNzMwOTEwMDIzLCJleHAiOjE3MzA5OTY0MjN9.mriBaIMQTzUZK57ga4KuP6jbYhkT8Cyicl1ja7p47jJtbLw_x9KMpxV_SLgMJP3dpcsEsNRi1kGWpXzekp0Vrw</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>user_token_tc</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="getAll" id="9246a084-1ce5-4968-90c3-c46e1fd51691">
        <con:settings/>
        <con:config service="Products Management API" resourcePath="/products" methodName="getAll" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="getAll" id="6b5fbe0e-6234-46e1-a677-367ef0d6780a" mediaType="application/json">
            <con:description xsi:nil="true"/>
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;con:entry key="Authorization" value="Bearer ${Run Login USER#user_token_tc}" xmlns:con="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request/>
            <con:originalUri>http://localhost/products</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="ca0744b2-24fb-4bb9-bb59-72bc383b3b47" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="aabd3fdc-fea0-48cf-9561-036dd9cfc1b3" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath RegEx Match" id="cd204c50-7a3f-43bb-8982-4f02a4a96b37" name="JSONPath RegEx Match">
              <con:configuration>
                <path>$[?(@.id=~/[0-9]{1,}/)]</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
                <regEx>\[.*id.*name.*serial.*\]</regEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters/>
            <con:parameterOrder/>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="Valid filter" id="13a98e27-b9a2-494a-8f59-9c72be22264d">
        <con:settings/>
        <con:config service="Products Management API" resourcePath="/products" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="Valid filter" id="c1c6ca1a-3cf2-491c-adf7-3a30a2f70f99" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;con:entry key="Authorization" value="Bearer ${Run Login USER#user_token_tc}" xmlns:con="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request/>
            <con:originalUri>http://localhost/products/products</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="955b2fd9-ca61-45e3-9462-a73bd21c2f15" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="adeee27e-0658-40de-9985-3a2b35dbfef8" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters>
              <con:entry key="text" value="Tr"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>text</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="No objects filter" id="2066d57e-a11a-4ac2-b60d-ab43686aed7e">
        <con:settings/>
        <con:config service="Products Management API" resourcePath="/products" methodName="GET" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="No objects filter" id="c1c6ca1a-3cf2-491c-adf7-3a30a2f70f99" mediaType="application/json" postQueryString="false">
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;con:entry key="Authorization" value="Bearer ${Run Login USER#user_token_tc}" xmlns:con="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request/>
            <con:originalUri>http://localhost/products/products</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="955b2fd9-ca61-45e3-9462-a73bd21c2f15" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>404</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="adeee27e-0658-40de-9985-3a2b35dbfef8" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters>
              <con:entry key="text" value="xxxxxx"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>text</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
      <con:reportParameters/>
    </con:testCase>
    <con:testCase id="8f0c827a-564a-4bfc-b093-a1d5908aea1b" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="Recorrer Productos" searchProperties="true" timeout="0">
      <con:settings/>
      <con:testStep type="calltestcase" name="Run Login USER" id="87189728-9b4e-49ea-a5c5-cb360f6b7fc2">
        <con:settings/>
        <con:config xsi:type="con:RunTestCaseStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:targetTestCase>34ddccd7-2b20-484c-b407-7f2a3550ce17</con:targetTestCase>
          <con:properties>
            <con:property>
              <con:name>user_token_tc</con:name>
              <con:value>eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxLHVzZXJAZW1haWwuY29tIiwicm9sZSI6IlVTRVIiLCJpc3MiOiJjb20ubWljcm9jb21wYW55IiwiaWF0IjoxNzMwOTExNTA2LCJleHAiOjE3MzA5OTc5MDZ9.W5ZMoX7RdtYaMrJYi4WvvGC9m4n5TElJjCzf0Yr2ygxrtqYcKmN95e_ZtrloyBzxw7YmBzAIsbYLUzuM9n3jPQ</con:value>
            </con:property>
          </con:properties>
          <con:returnProperties>
            <con:entry>user_token_tc</con:entry>
          </con:returnProperties>
          <con:runMode>PARALLELL</con:runMode>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="getAll" id="229095c5-83ed-43fa-997e-65e3001f791b">
        <con:settings/>
        <con:config service="Products Management API" resourcePath="/products" methodName="getAll" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="getAll" id="6b5fbe0e-6234-46e1-a677-367ef0d6780a" mediaType="application/json">
            <con:description xsi:nil="true"/>
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;con:entry key="Authorization" value="Bearer ${Run Login USER#user_token_tc}" xmlns:con="http://eviware.com/soapui/config"/></con:setting>
            </con:settings>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request/>
            <con:originalUri>http://localhost/products</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="ca0744b2-24fb-4bb9-bb59-72bc383b3b47" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="aabd3fdc-fea0-48cf-9561-036dd9cfc1b3" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:assertion type="JsonPath RegEx Match" id="cd204c50-7a3f-43bb-8982-4f02a4a96b37" name="JSONPath RegEx Match">
              <con:configuration>
                <path>$[?(@.id=~/[0-9]{1,}/)]</path>
                <content>true</content>
                <allowWildcards>false</allowWildcards>
                <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
                <ignoreComments>false</ignoreComments>
                <regEx>\[.*id.*name.*serial.*\]</regEx>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters/>
            <con:parameterOrder/>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:testStep type="datasource" name="getIdsFromResponse" id="18a29b39-06c9-4921-a274-05cce258aad0">
        <con:settings/>
        <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:dataSource type="JSON">
            <con:configuration>
              <sourceStep>getAll</sourceStep>
              <sourceProperty>Response</sourceProperty>
              <rowPath>$</rowPath>
              <columnPath>['id']</columnPath>
            </con:configuration>
          </con:dataSource>
          <con:shared>true</con:shared>
          <con:restartShared>true</con:restartShared>
          <con:property>pid</con:property>
          <con:restartOnRun>true</con:restartOnRun>
          <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
        </con:config>
      </con:testStep>
      <con:testStep type="restrequest" name="getOne" id="30034573-67e5-428b-a9f6-dfaecda6adac">
        <con:settings/>
        <con:config service="Products Management API" resourcePath="/products/{pid}" methodName="getOne_1" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <con:restRequest name="getOne" id="af82532a-29df-4ec3-8516-19f331548774" mediaType="application/json">
            <con:description xsi:nil="true"/>
            <con:settings>
              <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
            </con:settings>
            <con:endpoint>http://localhost:9090</con:endpoint>
            <con:request/>
            <con:originalUri>http://localhost/products/</con:originalUri>
            <con:assertion type="Valid HTTP Status Codes" id="6ef752e7-a881-494b-b4b2-808b26457c84" name="Valid HTTP Status Codes">
              <con:settings/>
              <con:configuration>
                <codes>200</codes>
              </con:configuration>
            </con:assertion>
            <con:assertion type="Response SLA Assertion" id="ba1a8f57-eb1c-435e-aa9d-8d7cad0623db" name="Response SLA">
              <con:configuration>
                <SLA>200</SLA>
              </con:configuration>
            </con:assertion>
            <con:credentials>
              <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
              <con:authType>No Authorization</con:authType>
            </con:credentials>
            <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
            <con:parameters>
              <con:entry key="pid" value="${getIdsFromResponse#pid}"/>
            </con:parameters>
            <con:parameterOrder>
              <con:entry>pid</con:entry>
            </con:parameterOrder>
          </con:restRequest>
        </con:config>
      </con:testStep>
      <con:properties/>
      <con:reportParameters/>
    </con:testCase>
    <con:properties/>
    <con:reportParameters/>
  </con:testSuite>
  <con:requirements/>
  <con:properties/>
  <con:wssContainer/>
  <con:databaseConnectionContainer/>
  <con:jmsConnectionContainer/>
  <con:oAuth2ProfileContainer>
    <con:oAuth2Profile>
      <con:name>Usuario</con:name>
      <con:type>OAuth 2.0</con:type>
      <con:accessToken>eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxLHVzZXJAZW1haWwuY29tIiwicm9sZSI6IlVTRVIiLCJpc3MiOiJjb20ubWljcm9jb21wYW55IiwiaWF0IjoxNzMwNDUyMTI4LCJleHAiOjE3MzA1Mzg1Mjh9.UZap3nmk7fSIFlOnVzUU-ZOdUq1B9QTFXUNmwjDpglqGR57Wy_QjCNtF9o8wX3iZvcTxkFkIOSUe7lda7yZVjw</con:accessToken>
      <con:accessTokenPosition>HEADER</con:accessTokenPosition>
      <con:accessTokenStartingStatus>ENTERED_MANUALLY</con:accessTokenStartingStatus>
      <con:oAuth2Flow>JWT_GRANT</con:oAuth2Flow>
      <con:refreshAccessTokenMethod>AUTOMATIC</con:refreshAccessTokenMethod>
      <con:jwtConfiguration/>
      <con:responseType>id_token</con:responseType>
    </con:oAuth2Profile>
  </con:oAuth2ProfileContainer>
  <con:oAuth1ProfileContainer/>
  <con:reporting>
    <con:xmlTemplates/>
    <con:parameters/>
  </con:reporting>
  <con:eventHandlers type="RequestFilter.filterRequest" name="RequestFilter.filterRequest">
    <con:script>// Sample event script to add custom HTTP header to all outgoing REST, SOAP and HTTP(S) calls
// This code is often used for adding custom authentication to ReadyAPI functional tests

// If hardcoding the token, uncomment and change line 5
// token = '4567'

// If your token is parameterized in Project level custom property, uncomment line 8
// token = request.parent.testCase.testSuite.project.getProperty('auth_token').getValue()

// To modify all outgoing calls, remove comments from lines 11 to 16
// headers = request.requestHeaders
// if (headers.containsKey('auth_token2') == false) {
//   headers.put('auth_token2', token)
//   request.requestHeaders = headers
// }</con:script>
  </con:eventHandlers>
  <con:eventHandlers type="TestRunListener.afterStep" name="TestRunListener.afterStep">
    <con:script>// Save all test step results into files
// Change the directory path in line 5 to a location where you want to store details
// then uncomment lines 5 to 10

// filePath = 'C:\\tempOutputDirectory\\'
// fos = new java.io.FileOutputStream(filePath + testStepResult.testStep.label + '.txt', true)
// pw = new java.io.PrintWriter(fos)
// testStepResult.writeTo(pw)
// pw.close()
// fos.close()</con:script>
  </con:eventHandlers>
  <con:authRepository>
    <con:oAuth20AuthEntry>
      <con:name>Usuario</con:name>
      <con:type>OAuth 2.0</con:type>
      <con:accessToken>eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxLHVzZXJAZW1haWwuY29tIiwicm9sZSI6IlVTRVIiLCJpc3MiOiJjb20ubWljcm9jb21wYW55IiwiaWF0IjoxNzMwNDUyMTI4LCJleHAiOjE3MzA1Mzg1Mjh9.UZap3nmk7fSIFlOnVzUU-ZOdUq1B9QTFXUNmwjDpglqGR57Wy_QjCNtF9o8wX3iZvcTxkFkIOSUe7lda7yZVjw</con:accessToken>
      <con:accessTokenPosition>HEADER</con:accessTokenPosition>
      <con:accessTokenStartingStatus>ENTERED_MANUALLY</con:accessTokenStartingStatus>
      <con:oAuth2Flow>JWT_GRANT</con:oAuth2Flow>
      <con:refreshAccessTokenMethod>AUTOMATIC</con:refreshAccessTokenMethod>
      <con:jwtConfiguration/>
      <con:responseType>id_token</con:responseType>
    </con:oAuth20AuthEntry>
  </con:authRepository>
  <con:tags/>
</con:soapui-project>
